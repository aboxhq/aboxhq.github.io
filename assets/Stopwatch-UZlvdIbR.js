import{F as t}from"./utils-CpTIjOSr.js";import{a,r as e,c as s,o as l,b as o,e as i,f as c,t as v,y as n,n as u,F as r,g as p,j as d}from"./vendor-GAldOsJ5.js";import{_ as m}from"./index-vCRZDDw7.js";import"./qr-DE_AbQYC.js";const h={class:"stopwatch"},f={class:"tool-header"},w={class:"stopwatch-container"},$={class:"main-display"},b={class:"time-unit"},T={class:"time-value"},g={class:"time-label"},k={class:"time-unit"},y={class:"time-value"},D={class:"time-label"},M={class:"time-unit"},S={class:"time-value milliseconds"},x={class:"time-label"},C={class:"total-time"},j={class:"controls"},L={key:0,class:"lap-times"},_={class:"lap-header"},E={class:"lap-stats"},I={class:"stat-item"},F={class:"stat-label"},K={class:"stat-value"},q={class:"stat-item"},A={class:"stat-label"},B={class:"stat-value"},O={class:"stat-item"},R={class:"stat-label"},z={class:"stat-value"},G={class:"lap-list"},H={class:"lap-list-header"},J={class:"lap-number"},N={class:"lap-time"},P={class:"total-time"},Q={class:"difference"},U={class:"lap-number"},V={class:"lap-time"},W={class:"total-time"},X={class:"lap-actions"},Y={class:"stopwatch-features"},Z={class:"features-grid"},tt={class:"feature-item"},at={class:"feature-content"},et={class:"feature-title"},st={class:"feature-description"},lt={class:"feature-item"},ot={class:"feature-content"},it={class:"feature-title"},ct={class:"feature-description"},vt={class:"feature-item"},nt={class:"feature-content"},ut={class:"feature-title"},rt={class:"feature-description"},pt={class:"feature-item"},dt={class:"feature-content"},mt={class:"feature-title"},ht={class:"feature-description"},ft=m(a({__name:"Stopwatch",setup(a){const m=e(!1),ft=e(0),wt=e(0),$t=e(0),bt=e(null),Tt=e([]),gt=e(0),kt=s(()=>Math.floor(ft.value/6e4)),yt=s(()=>Math.floor(ft.value%6e4/1e3)),Dt=s(()=>ft.value%1e3),Mt=s(()=>[...Tt.value].reverse()),St=s(()=>0===Tt.value.length?0:Math.min(...Tt.value.map(t=>t.lapTime))),xt=s(()=>0===Tt.value.length?0:Math.max(...Tt.value.map(t=>t.lapTime))),Ct=s(()=>{if(0===Tt.value.length)return 0;const t=Tt.value.reduce((t,a)=>t+a.lapTime,0);return Math.round(t/Tt.value.length)}),jt=()=>{wt.value=Date.now()-$t.value,m.value=!0,Ft()},Lt=()=>{m.value=!1,$t.value=ft.value,Kt()},_t=()=>{wt.value=Date.now()-$t.value,m.value=!0,Ft()},Et=()=>{m.value=!1,ft.value=0,$t.value=0,wt.value=0,Tt.value=[],gt.value=0,Kt()},It=()=>{if(!m.value)return;gt.value++;const t=ft.value,a=t-(Tt.value.length>0?Tt.value[Tt.value.length-1].totalTime:0),e=Tt.value.length>0?a-Tt.value[Tt.value.length-1].lapTime:0;Tt.value.push({id:gt.value,lapTime:a,totalTime:t,difference:e})},Ft=()=>{bt.value=window.setInterval(()=>{ft.value=Date.now()-wt.value},10)},Kt=()=>{bt.value&&(clearInterval(bt.value),bt.value=null)},qt=t=>t.toString().padStart(2,"0"),At=t=>t.toString().padStart(3,"0"),Bt=t=>{const a=Math.floor(t/36e5),e=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3),l=t%1e3;return a>0?`${a}:${qt(e)}:${qt(s)}.${At(l)}`:`${qt(e)}:${qt(s)}.${At(l)}`},Ot=t=>`${t>=0?"+":"-"}${Bt(Math.abs(t))}`,Rt=()=>{Tt.value=[],gt.value=0},zt=()=>{if(0===Tt.value.length)return;const a=["Lap,Lap Time,Total Time,Difference",...Tt.value.map((t,a)=>`${a+1},${Bt(t.lapTime)},${Bt(t.totalTime)},${Ot(t.difference)}`)].join("\n"),e=new Blob([a],{type:"text/csv"}),s=(new Date).toISOString().split("T")[0];t.saveAs(e,`stopwatch-laps-${s}.csv`)};return l(()=>{const t=t=>{"Space"===t.code?(t.preventDefault(),m.value?Lt():ft.value>0?_t():jt()):"KeyL"===t.code&&m.value?(t.preventDefault(),It()):"KeyR"!==t.code||m.value||(t.preventDefault(),Et())};document.addEventListener("keydown",t),o(()=>{document.removeEventListener("keydown",t),Kt()})}),(t,a)=>(d(),i("div",h,[c("div",f,[c("h1",null,v(t.$t("tools.stopwatch.title")),1),c("p",null,v(t.$t("tools.stopwatch.description")),1)]),c("div",w,[c("div",$,[c("div",{class:u(["time-display",{running:m.value}])},[c("div",b,[c("div",T,v(qt(kt.value)),1),c("div",g,v(t.$t("tools.stopwatch.minutes")),1)]),a[0]||(a[0]=c("div",{class:"time-separator"}," : ",-1)),c("div",k,[c("div",y,v(qt(yt.value)),1),c("div",D,v(t.$t("tools.stopwatch.seconds")),1)]),a[1]||(a[1]=c("div",{class:"time-separator"}," . ",-1)),c("div",M,[c("div",S,v(At(Dt.value)),1),c("div",x,v(t.$t("tools.stopwatch.milliseconds")),1)])],2),c("div",C,v(t.$t("tools.stopwatch.totalTime"))+": "+v(Bt(ft.value)),1),c("div",j,[m.value||0!==ft.value?n("",!0):(d(),i("button",{key:0,class:"control-btn start",onClick:jt},v(t.$t("tools.stopwatch.start")),1)),m.value?(d(),i("button",{key:1,class:"control-btn pause",onClick:Lt},v(t.$t("tools.stopwatch.pause")),1)):n("",!0),!m.value&&ft.value>0?(d(),i("button",{key:2,class:"control-btn resume",onClick:_t},v(t.$t("tools.stopwatch.resume")),1)):n("",!0),m.value?(d(),i("button",{key:3,class:"control-btn lap",onClick:It},v(t.$t("tools.stopwatch.lap")),1)):n("",!0),ft.value>0?(d(),i("button",{key:4,class:"control-btn reset",onClick:Et},v(t.$t("tools.stopwatch.reset")),1)):n("",!0)])]),Tt.value.length>0?(d(),i("div",L,[c("div",_,[c("h3",null,v(t.$t("tools.stopwatch.lapTimes"))+" ("+v(Tt.value.length)+")",1),c("div",E,[c("div",I,[c("span",F,v(t.$t("tools.stopwatch.fastest"))+":",1),c("span",K,v(Bt(St.value)),1)]),c("div",q,[c("span",A,v(t.$t("tools.stopwatch.slowest"))+":",1),c("span",B,v(Bt(xt.value)),1)]),c("div",O,[c("span",R,v(t.$t("tools.stopwatch.average"))+":",1),c("span",z,v(Bt(Ct.value)),1)])])]),c("div",G,[c("div",H,[c("div",J,v(t.$t("tools.stopwatch.lap")),1),c("div",N,v(t.$t("tools.stopwatch.lapTime")),1),c("div",P,v(t.$t("tools.stopwatch.totalTime")),1),c("div",Q,v(t.$t("tools.stopwatch.difference")),1)]),(d(!0),i(r,null,p(Mt.value,(t,a)=>{return d(),i("div",{key:t.id,class:u(["lap-item",{fastest:t.lapTime===St.value,slowest:t.lapTime===xt.value}])},[c("div",U," #"+v(Tt.value.length-a),1),c("div",V,v(Bt(t.lapTime)),1),c("div",W,v(Bt(t.totalTime)),1),c("div",{class:u(["difference",(e=t.difference,e>0?"slower":e<0?"faster":"same")])},v(Ot(t.difference)),3)],2);var e}),128))]),c("div",X,[c("button",{class:"action-btn",onClick:zt},v(t.$t("tools.stopwatch.export")),1),c("button",{class:"action-btn",onClick:Rt},v(t.$t("tools.stopwatch.clearLaps")),1)])])):n("",!0),c("div",Y,[c("h3",null,v(t.$t("tools.stopwatch.features")),1),c("div",Z,[c("div",tt,[a[2]||(a[2]=c("div",{class:"feature-icon"}," â±ï¸ ",-1)),c("div",at,[c("div",et,v(t.$t("tools.stopwatch.precisionTiming")),1),c("div",st,v(t.$t("tools.stopwatch.precisionTimingDesc")),1)])]),c("div",lt,[a[3]||(a[3]=c("div",{class:"feature-icon"}," ðŸƒ ",-1)),c("div",ot,[c("div",it,v(t.$t("tools.stopwatch.lapTracking")),1),c("div",ct,v(t.$t("tools.stopwatch.lapTrackingDesc")),1)])]),c("div",vt,[a[4]||(a[4]=c("div",{class:"feature-icon"}," ðŸ“Š ",-1)),c("div",nt,[c("div",ut,v(t.$t("tools.stopwatch.statistics")),1),c("div",rt,v(t.$t("tools.stopwatch.statisticsDesc")),1)])]),c("div",pt,[a[5]||(a[5]=c("div",{class:"feature-icon"}," ðŸ’¾ ",-1)),c("div",dt,[c("div",mt,v(t.$t("tools.stopwatch.dataExport")),1),c("div",ht,v(t.$t("tools.stopwatch.dataExportDesc")),1)])])])])])]))}}),[["__scopeId","data-v-4ddfe97d"]]);export{ft as default};
