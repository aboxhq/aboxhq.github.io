import{a as e,r as o,o as t,e as s,f as l,t as a,y as n,I as i,J as r,Q as c,F as d,g as u,n as p,j as v}from"./vendor-GAldOsJ5.js";import{s as m}from"./toast-NJcpvA0I.js";import{_ as y}from"./index-CE9ZUSgX.js";import"./qr-DE_AbQYC.js";const k={class:"dns-lookup"},h={class:"tool-header"},f={class:"lookup-container"},A={class:"input-section"},g={class:"domain-input-group"},b=["placeholder"],S=["disabled"],$={class:"record-types"},L={class:"record-type-label"},C={class:"record-type-buttons"},N=["onClick"],R={class:"quick-actions"},T={key:0,class:"results-section"},x={class:"results-header"},w={class:"results-actions"},M={class:"results-grid"},D={class:"result-header"},P={class:"record-type"},E={class:"record-count"},O={key:0,class:"error-message"},j={key:1,class:"no-records"},I={key:2,class:"records-list"},X={class:"record-value"},U={class:"record-details"},_={key:0,class:"ttl"},q={key:1,class:"priority"},J={key:2,class:"weight"},V={key:3,class:"port"},z={key:1,class:"loading-section"},H={key:2,class:"no-results"},F={class:"info-section"},B={class:"dns-info"},K={class:"record-types-info"},Q={class:"info-header"},W={class:"info-type"},G={class:"info-name"},Y={class:"info-description"},Z={class:"tools-section"},ee={class:"tool-buttons"},oe={class:"history-section"},te={key:0,class:"no-history"},se={key:1,class:"history-list"},le=["onClick"],ae={class:"history-domain"},ne={class:"history-time"},ie={class:"history-types"},re=y(e({__name:"DNSLookup",setup(e){const y=o(""),re=o(!1),ce=o(!1),de=o([]),ue=o(["A","AAAA","CNAME","MX","TXT"]),pe=o([]),ve=["A","AAAA","CNAME","MX","NS","TXT","SOA","PTR","SRV","CAA"],me=[{type:"A",name:"Address Record",description:"Maps a domain name to an IPv4 address"},{type:"AAAA",name:"IPv6 Address Record",description:"Maps a domain name to an IPv6 address"},{type:"CNAME",name:"Canonical Name Record",description:"Maps an alias name to a true or canonical domain name"},{type:"MX",name:"Mail Exchange Record",description:"Maps a domain name to a list of mail exchange servers"},{type:"NS",name:"Name Server Record",description:"Delegates a DNS zone to use the given authoritative name servers"},{type:"TXT",name:"Text Record",description:"Stores arbitrary text data, often used for verification"},{type:"SOA",name:"Start of Authority Record",description:"Specifies authoritative information about a DNS zone"},{type:"PTR",name:"Pointer Record",description:"Maps an IP address to a domain name (reverse DNS)"},{type:"SRV",name:"Service Record",description:"Specifies the location of servers for specified services"},{type:"CAA",name:"Certification Authority Authorization",description:"Specifies which certificate authorities can issue certificates"}],ye=()=>{ue.value=[...ve]},ke=()=>{ue.value=["A","AAAA","CNAME","MX","TXT"]},he=()=>{ue.value=[]},fe=async()=>{if(y.value.trim()&&0!==ue.value.length){re.value=!0,ce.value=!0,de.value=[];try{const e={domain:y.value,types:[...ue.value],timestamp:Date.now()};pe.value.unshift(e),pe.value.length>10&&(pe.value=pe.value.slice(0,10)),Ne();const o=ue.value.map(e=>Ae(y.value,e)),t=await Promise.all(o);de.value=t}catch(e){}finally{re.value=!1}}},Ae=async(e,o)=>{await new Promise(e=>setTimeout(e,1e3*Math.random()+500));return Math.random()<.3?{type:o,records:[],error:`No ${o} records found for ${e}`}:{type:o,records:{A:[{value:"93.184.216.34",ttl:3600},{value:"93.184.216.35",ttl:3600}],AAAA:[{value:"2606:2800:220:1:248:1893:25c8:1946",ttl:3600}],CNAME:[{value:"example.com.",ttl:300}],MX:[{value:"mail.example.com.",ttl:3600,priority:10},{value:"mail2.example.com.",ttl:3600,priority:20}],NS:[{value:"ns1.example.com.",ttl:86400},{value:"ns2.example.com.",ttl:86400}],TXT:[{value:"v=spf1 include:_spf.example.com ~all",ttl:300},{value:"google-site-verification=abc123def456",ttl:300}],SOA:[{value:"ns1.example.com. admin.example.com. 2023120101 3600 1800 604800 86400",ttl:86400}],SRV:[{value:"mail.example.com.",ttl:3600,priority:10,weight:5,port:25}],CAA:[{value:'0 issue "letsencrypt.org"',ttl:3600}]}[o]||[]}},ge=()=>{const e={domain:y.value,timestamp:(new Date).toISOString(),results:de.value},o=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(o),s=document.createElement("a");s.href=t,s.download=`dns-lookup-${y.value}-${Date.now()}.json`,s.click(),URL.revokeObjectURL(t)},be=()=>{let e=`DNS Lookup Results for ${y.value}\n`;e+=`Timestamp: ${(new Date).toISOString()}\n\n`,de.value.forEach(o=>{e+=`${o.type} Records:\n`,o.error?e+=`  Error: ${o.error}\n`:0===o.records.length?e+="  No records found\n":o.records.forEach(o=>{e+=`  ${o.value}`,o.ttl&&(e+=` (TTL: ${o.ttl}s)`),o.priority&&(e+=` (Priority: ${o.priority})`),e+="\n"}),e+="\n"}),navigator.clipboard.writeText(e)},Se=()=>{m.info("DNS Propagation check would be implemented here")},$e=()=>{m.info("Reverse DNS lookup would be implemented here")},Le=()=>{m.info("DNSSEC check would be implemented here")},Ce=()=>{pe.value=[],Ne()},Ne=()=>{localStorage.setItem("dns-lookup-history",JSON.stringify(pe.value))};return t(()=>{(()=>{const e=localStorage.getItem("dns-lookup-history");if(e)try{pe.value=JSON.parse(e)}catch(o){}})()}),(e,o)=>(v(),s("div",k,[l("div",h,[l("h1",null,a(e.$t("tools.dnsLookup.title")),1),l("p",null,a(e.$t("tools.dnsLookup.description")),1)]),l("div",f,[l("div",A,[l("div",g,[i(l("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>y.value=e),type:"text",placeholder:e.$t("tools.dnsLookup.domainPlaceholder"),class:"domain-input",onKeyup:c(fe,["enter"])},null,40,b),[[r,y.value]]),l("button",{disabled:re.value,class:"lookup-btn",onClick:fe},a(re.value?e.$t("tools.dnsLookup.looking"):e.$t("tools.dnsLookup.lookup")),9,S)]),l("div",$,[l("label",L,a(e.$t("tools.dnsLookup.recordTypes"))+":",1),l("div",C,[(v(),s(d,null,u(ve,e=>l("button",{key:e,class:p([{active:ue.value.includes(e)},"record-type-btn"]),onClick:o=>(e=>{const o=ue.value.indexOf(e);o>-1?ue.value.splice(o,1):ue.value.push(e)})(e)},a(e),11,N)),64))])]),l("div",R,[l("button",{class:"quick-action-btn",onClick:ye},a(e.$t("tools.dnsLookup.selectAll")),1),l("button",{class:"quick-action-btn",onClick:ke},a(e.$t("tools.dnsLookup.selectCommon")),1),l("button",{class:"quick-action-btn",onClick:he},a(e.$t("tools.dnsLookup.clearSelection")),1)])]),de.value.length>0?(v(),s("div",T,[l("div",x,[l("h3",null,a(e.$t("tools.dnsLookup.results"))+" - "+a(y.value),1),l("div",w,[l("button",{class:"export-btn",onClick:ge}," ğŸ“„ "+a(e.$t("tools.dnsLookup.export")),1),l("button",{class:"copy-btn",onClick:be}," ğŸ“‹ "+a(e.$t("tools.dnsLookup.copy")),1)])]),l("div",M,[(v(!0),s(d,null,u(de.value,o=>(v(),s("div",{key:o.type,class:"result-card"},[l("div",D,[l("h4",P,a(o.type),1),l("span",E,a(o.records.length)+" "+a(e.$t("tools.dnsLookup.records")),1)]),o.error?(v(),s("div",O," âŒ "+a(o.error),1)):0===o.records.length?(v(),s("div",j," â„¹ï¸ "+a(e.$t("tools.dnsLookup.noRecords")),1)):(v(),s("div",I,[(v(!0),s(d,null,u(o.records,(e,o)=>(v(),s("div",{key:o,class:"record-item"},[l("div",X,a(e.value),1),l("div",U,[e.ttl?(v(),s("span",_,"TTL: "+a(e.ttl)+"s",1)):n("",!0),e.priority?(v(),s("span",q,"Priority: "+a(e.priority),1)):n("",!0),e.weight?(v(),s("span",J,"Weight: "+a(e.weight),1)):n("",!0),e.port?(v(),s("span",V,"Port: "+a(e.port),1)):n("",!0)])]))),128))]))]))),128))])])):n("",!0),re.value?(v(),s("div",z,[o[1]||(o[1]=l("div",{class:"loading-spinner"},null,-1)),l("p",null,a(e.$t("tools.dnsLookup.lookingUp"))+" "+a(y.value)+"...",1)])):n("",!0),!re.value&&0===de.value.length&&ce.value?(v(),s("div",H,[o[2]||(o[2]=l("div",{class:"no-results-icon"}," ğŸ” ",-1)),l("p",null,a(e.$t("tools.dnsLookup.noResultsFound")),1)])):n("",!0)]),l("div",F,[l("div",B,[l("h3",null,a(e.$t("tools.dnsLookup.dnsRecordTypes")),1),l("div",K,[(v(),s(d,null,u(me,e=>l("div",{key:e.type,class:"record-type-info"},[l("div",Q,[l("span",W,a(e.type),1),l("span",G,a(e.name),1)]),l("div",Y,a(e.description),1)])),64))])]),l("div",Z,[l("h3",null,a(e.$t("tools.dnsLookup.additionalTools")),1),l("div",ee,[l("button",{class:"tool-btn",onClick:Se}," ğŸŒ "+a(e.$t("tools.dnsLookup.checkPropagation")),1),l("button",{class:"tool-btn",onClick:$e}," ğŸ”„ "+a(e.$t("tools.dnsLookup.reverseLookup")),1),l("button",{class:"tool-btn",onClick:Le}," ğŸ”’ "+a(e.$t("tools.dnsLookup.checkDNSSEC")),1)])])]),l("div",oe,[l("h3",null,a(e.$t("tools.dnsLookup.lookupHistory")),1),0===pe.value.length?(v(),s("div",te,a(e.$t("tools.dnsLookup.noHistory")),1)):(v(),s("div",se,[(v(!0),s(d,null,u(pe.value,(e,o)=>{return v(),s("div",{key:o,class:"history-item",onClick:o=>(e=>{y.value=e.domain,ue.value=[...e.types]})(e)},[l("div",ae,a(e.domain),1),l("div",ne,a((t=e.timestamp,new Date(t).toLocaleString())),1),l("div",ie,a(e.types.join(", ")),1)],8,le);var t}),128))])),pe.value.length>0?(v(),s("button",{key:2,class:"clear-history-btn",onClick:Ce}," ğŸ—‘ï¸ "+a(e.$t("tools.dnsLookup.clearHistory")),1)):n("",!0)])]))}}),[["__scopeId","data-v-0721205e"]]);export{re as default};
