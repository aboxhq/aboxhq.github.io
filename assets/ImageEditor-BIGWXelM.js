import{a as t,r as a,L as s,c as e,e as n,f as o,t as l,y as i,M as r,I as u,J as c,F as d,g as m,n as g,s as p,S as h,j as v}from"./vendor-GAldOsJ5.js";import{F as b}from"./utils-CpTIjOSr.js";import{_ as f}from"./index-seUOhGQe.js";import"./qr-DE_AbQYC.js";const $={class:"image-editor"},E={class:"tool-header"},j={class:"editor-container"},w={key:0,class:"upload-section"},k={class:"upload-text"},y={key:1,class:"editor-workspace"},C={class:"editor-sidebar"},I={class:"tool-section"},x={class:"adjustment-controls"},V={class:"control-group"},H={class:"control-value"},z={class:"control-group"},M={class:"control-value"},B={class:"control-group"},D={class:"control-value"},U={class:"control-group"},_={class:"control-value"},F={class:"control-group"},O={class:"control-value"},W={class:"tool-section"},R={class:"filter-presets"},S=["onClick"],A={class:"tool-section"},L={class:"transform-controls"},N={class:"tool-section"},q={class:"action-controls"},G={class:"editor-canvas"},J={class:"canvas-container"},K={class:"image-info"},P={class:"info-item"},T={class:"info-label"},X={class:"info-value"},Y={class:"info-item"},Q={class:"info-label"},Z={class:"info-value"},tt={class:"info-item"},at={class:"info-label"},st={class:"info-value"},et=f(t({__name:"ImageEditor",setup(t){const f=a(),et=a(),nt=a(null),ot=a(null),lt=a(""),it=s({brightness:100,contrast:100,saturation:100,hue:0,blur:0}),rt=s({width:0,height:0,size:0,format:""}),ut=s({rotation:0,flipH:!1,flipV:!1}),ct=[{name:"Original",adjustments:{brightness:100,contrast:100,saturation:100,hue:0,blur:0}},{name:"Vintage",adjustments:{brightness:110,contrast:120,saturation:80,hue:20,blur:.5}},{name:"Black & White",adjustments:{brightness:100,contrast:110,saturation:0,hue:0,blur:0}},{name:"Sepia",adjustments:{brightness:110,contrast:100,saturation:60,hue:30,blur:0}},{name:"Cool",adjustments:{brightness:105,contrast:110,saturation:120,hue:200,blur:0}},{name:"Warm",adjustments:{brightness:110,contrast:105,saturation:110,hue:15,blur:0}},{name:"High Contrast",adjustments:{brightness:100,contrast:150,saturation:120,hue:0,blur:0}},{name:"Soft",adjustments:{brightness:105,contrast:90,saturation:95,hue:0,blur:1}}],dt=e(()=>({filter:`\n    brightness(${it.brightness}%)\n    contrast(${it.contrast}%)\n    saturate(${it.saturation}%)\n    hue-rotate(${it.hue}deg)\n    blur(${it.blur}px)\n  `,transform:`\n    rotate(${ut.rotation}deg)\n    scaleX(${ut.flipH?-1:1})\n    scaleY(${ut.flipV?-1:1})\n  `})),mt=()=>{f.value?.click()},gt=t=>{const a=t.target,s=a.files?.[0];s&&ht(s)},pt=t=>{t.preventDefault();const a=t.dataTransfer?.files[0];a&&a.type.startsWith("image/")&&ht(a)},ht=t=>{const a=new FileReader;a.onload=a=>{const s=new Image;s.onload=()=>{nt.value=s,ot.value=s.cloneNode(),rt.width=s.naturalWidth,rt.height=s.naturalHeight,rt.size=t.size,rt.format=t.type.split("/")[1].toUpperCase(),h(()=>{vt()})},s.src=a.target?.result},a.readAsDataURL(t)},vt=()=>{if(!et.value||!nt.value)return;const t=et.value.getContext("2d");if(!t)return;let{width:a,height:s}=nt.value;if(a>800||s>600){const t=Math.min(800/a,600/s);a*=t,s*=t}et.value.width=a,et.value.height=s,t.clearRect(0,0,a,s),t.drawImage(nt.value,0,0,a,s)},bt=()=>{},ft=t=>{ut.rotation=(ut.rotation+t)%360},$t=t=>{"horizontal"===t?ut.flipH=!ut.flipH:ut.flipV=!ut.flipV},Et=()=>{Object.assign(it,{brightness:100,contrast:100,saturation:100,hue:0,blur:0}),Object.assign(ut,{rotation:0,flipH:!1,flipV:!1}),lt.value=""},jt=()=>{if(!et.value)return;const t=document.createElement("canvas"),a=t.getContext("2d");a&&nt.value&&(t.width=nt.value.naturalWidth,t.height=nt.value.naturalHeight,a.save(),a.translate(t.width/2,t.height/2),a.rotate(ut.rotation*Math.PI/180),a.scale(ut.flipH?-1:1,ut.flipV?-1:1),a.filter=`\n    brightness(${it.brightness}%)\n    contrast(${it.contrast}%)\n    saturate(${it.saturation}%)\n    hue-rotate(${it.hue}deg)\n    blur(${it.blur}px)\n  `,a.drawImage(nt.value,-t.width/2,-t.height/2,t.width,t.height),a.restore(),t.toBlob(t=>{t&&b.saveAs(t,`edited-image-${Date.now()}.png`)}))},wt=()=>{nt.value=null,ot.value=null,Et(),Object.assign(rt,{width:0,height:0,size:0,format:""})},kt=t=>{if(0===t)return"0 B";const a=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,a)).toFixed(1))+" "+["B","KB","MB","GB"][a]};return(t,a)=>(v(),n("div",$,[o("div",E,[o("h1",null,l(t.$t("tools.imageEditor.title")),1),o("p",null,l(t.$t("tools.imageEditor.description")),1)]),o("div",j,[nt.value?i("",!0):(v(),n("div",w,[o("div",{class:"upload-area",onDrop:pt,onDragover:a[0]||(a[0]=r(()=>{},["prevent"])),onDragenter:a[1]||(a[1]=r(()=>{},["prevent"]))},[a[11]||(a[11]=o("div",{class:"upload-icon"}," ðŸ“· ",-1)),o("div",k,[o("p",null,l(t.$t("tools.imageEditor.dragDrop")),1),o("p",null,l(t.$t("tools.imageEditor.or")),1),o("button",{class:"upload-btn",onClick:mt},l(t.$t("tools.imageEditor.selectImage")),1)]),o("input",{ref_key:"fileInput",ref:f,type:"file",accept:"image/*",style:{display:"none"},onChange:gt},null,544)],32)])),nt.value?(v(),n("div",y,[o("div",C,[o("div",I,[o("h3",null,l(t.$t("tools.imageEditor.adjustments")),1),o("div",x,[o("div",V,[o("label",null,l(t.$t("tools.imageEditor.brightness")),1),u(o("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>it.brightness=t),type:"range",min:"0",max:"200",class:"adjustment-slider",onInput:bt},null,544),[[c,it.brightness,void 0,{number:!0}]]),o("span",H,l(it.brightness)+"%",1)]),o("div",z,[o("label",null,l(t.$t("tools.imageEditor.contrast")),1),u(o("input",{"onUpdate:modelValue":a[3]||(a[3]=t=>it.contrast=t),type:"range",min:"0",max:"200",class:"adjustment-slider",onInput:bt},null,544),[[c,it.contrast,void 0,{number:!0}]]),o("span",M,l(it.contrast)+"%",1)]),o("div",B,[o("label",null,l(t.$t("tools.imageEditor.saturation")),1),u(o("input",{"onUpdate:modelValue":a[4]||(a[4]=t=>it.saturation=t),type:"range",min:"0",max:"200",class:"adjustment-slider",onInput:bt},null,544),[[c,it.saturation,void 0,{number:!0}]]),o("span",D,l(it.saturation)+"%",1)]),o("div",U,[o("label",null,l(t.$t("tools.imageEditor.hue")),1),u(o("input",{"onUpdate:modelValue":a[5]||(a[5]=t=>it.hue=t),type:"range",min:"0",max:"360",class:"adjustment-slider",onInput:bt},null,544),[[c,it.hue,void 0,{number:!0}]]),o("span",_,l(it.hue)+"Â°",1)]),o("div",F,[o("label",null,l(t.$t("tools.imageEditor.blur")),1),u(o("input",{"onUpdate:modelValue":a[6]||(a[6]=t=>it.blur=t),type:"range",min:"0",max:"10",step:"0.1",class:"adjustment-slider",onInput:bt},null,544),[[c,it.blur,void 0,{number:!0}]]),o("span",O,l(it.blur)+"px",1)])])]),o("div",W,[o("h3",null,l(t.$t("tools.imageEditor.filters")),1),o("div",R,[(v(),n(d,null,m(ct,t=>o("button",{key:t.name,class:g(["filter-btn",{active:lt.value===t.name}]),onClick:a=>{return s=t,lt.value=s.name,void Object.assign(it,{brightness:100,contrast:100,saturation:100,hue:0,blur:0,...s.adjustments});var s}},l(t.name),11,S)),64))])]),o("div",A,[o("h3",null,l(t.$t("tools.imageEditor.transform")),1),o("div",L,[o("button",{class:"transform-btn",onClick:a[7]||(a[7]=t=>ft(90))},l(t.$t("tools.imageEditor.rotate90")),1),o("button",{class:"transform-btn",onClick:a[8]||(a[8]=t=>ft(-90))},l(t.$t("tools.imageEditor.rotateNeg90")),1),o("button",{class:"transform-btn",onClick:a[9]||(a[9]=t=>$t("horizontal"))},l(t.$t("tools.imageEditor.flipH")),1),o("button",{class:"transform-btn",onClick:a[10]||(a[10]=t=>$t("vertical"))},l(t.$t("tools.imageEditor.flipV")),1)])]),o("div",N,[o("h3",null,l(t.$t("tools.imageEditor.actions")),1),o("div",q,[o("button",{class:"action-btn reset-btn",onClick:Et},l(t.$t("tools.imageEditor.reset")),1),o("button",{class:"action-btn download-btn",onClick:jt},l(t.$t("tools.imageEditor.download")),1),o("button",{class:"action-btn clear-btn",onClick:wt},l(t.$t("tools.imageEditor.newImage")),1)])])]),o("div",G,[o("div",J,[o("canvas",{ref_key:"canvas",ref:et,class:"image-canvas",style:p(dt.value)},null,4)]),o("div",K,[o("div",P,[o("span",T,l(t.$t("tools.imageEditor.dimensions"))+":",1),o("span",X,l(rt.width)+" Ã— "+l(rt.height),1)]),o("div",Y,[o("span",Q,l(t.$t("tools.imageEditor.size"))+":",1),o("span",Z,l(kt(rt.size)),1)]),o("div",tt,[o("span",at,l(t.$t("tools.imageEditor.format"))+":",1),o("span",st,l(rt.format),1)])])])])):i("",!0)])]))}}),[["__scopeId","data-v-6c6ec1e8"]]);export{et as default};
