import{a as e,u as o,L as t,r as l,c as a,w as i,o as s,b as n,e as c,f as d,t as r,y as m,I as u,q as v,O as y,K as f,N as h,J as p,F as w,g as k,n as g,k as z,j as C}from"./vendor-GAldOsJ5.js";import{_ as b}from"./index-vCRZDDw7.js";import"./qr-DE_AbQYC.js";const x={class:"world-clock"},$={class:"tool-header"},S={class:"tool-title"},K={class:"tool-description"},D={class:"tool-content"},I={class:"settings-panel"},N={class:"settings-group"},L={class:"setting-label"},U={class:"radio-group"},T={class:"radio-label"},F={class:"radio-label"},A={class:"settings-group"},R={class:"checkbox-label"},V={class:"settings-group"},_={class:"checkbox-label"},E={class:"settings-group"},Z={class:"checkbox-label"},j={key:0,class:"settings-group"},q={class:"setting-label"},O={value:"1"},B={value:"5"},J={value:"10"},M={value:"30"},Y={value:"60"},H={class:"local-time-section"},P={class:"time-card local-time-card"},W={class:"time-display"},G={class:"time-value"},Q={key:0,class:"date-value"},X={class:"timezone-info"},ee={class:"city-name"},oe={class:"timezone-name"},te={class:"world-times-section"},le={class:"section-header"},ae={class:"timezone-controls"},ie={class:"search-container"},se=["placeholder"],ne={class:"time-grid"},ce=["title","onClick"],de={class:"time-display"},re={class:"time-value"},me={key:0,class:"date-value"},ue={class:"timezone-info"},ve={class:"city-name"},ye={class:"timezone-name"},fe={class:"time-difference"},he={class:"time-indicator"},pe={class:"day-night-icon"},we={key:0,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},ke={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},ge={class:"quick-add-section"},ze={class:"quick-add-buttons"},Ce=["disabled","onClick"],be=b(e({__name:"WorldClock",setup(e){const{t:b,locale:be}=o(),xe=t({timeFormat:"24",showSeconds:!0,showDate:!0,autoRefresh:!0,refreshInterval:1}),$e=l(""),Se=l({id:"local",city:"Local",timezone:"",time:"",date:"",difference:"",isNight:!1}),Ke=l([]);let De=null;const Ie=[{id:"new-york",nameKey:"newYork",timezone:"America/New_York"},{id:"london",nameKey:"london",timezone:"Europe/London"},{id:"tokyo",nameKey:"tokyo",timezone:"Asia/Tokyo"},{id:"sydney",nameKey:"sydney",timezone:"Australia/Sydney"},{id:"paris",nameKey:"paris",timezone:"Europe/Paris"},{id:"dubai",nameKey:"dubai",timezone:"Asia/Dubai"},{id:"singapore",nameKey:"singapore",timezone:"Asia/Singapore"},{id:"los-angeles",nameKey:"losAngeles",timezone:"America/Los_Angeles"}],Ne=a(()=>{if(!$e.value)return Ke.value;const e=$e.value.toLowerCase();return Ke.value.filter(o=>o.city.toLowerCase().includes(e)||o.timezone.toLowerCase().includes(e))}),Le=e=>{const o="zh"===be.value?"zh-CN":"en-US",t={hour:"2-digit",minute:"2-digit",hour12:"12"===xe.timeFormat};return xe.showSeconds&&(t.second="2-digit"),e.toLocaleTimeString(o,t)},Ue=e=>{const o="zh"===be.value?"zh-CN":"en-US";return e.toLocaleDateString(o,{weekday:"long",year:"numeric",month:"long",day:"numeric"})},Te=(e,o)=>{const t=e.getTime()-o.getTime(),l=Math.round(t/36e5);return 0===l?"Same time":l>0?`+${l}h`:`${l}h`},Fe=e=>{const o=e.getHours();return o<6||o>=18},Ae=()=>{const e=new Date;Se.value={id:"local",city:b("tools.worldClock.local"),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,time:Le(e),date:Ue(e),difference:"",isNight:Fe(e)},Ke.value=Ke.value.map(o=>{const t=new Date(e.toLocaleString("en-US",{timeZone:o.timezone}));return{...o,time:Le(t),date:Ue(t),difference:Te(t,e),isNight:Fe(t)}})},Re=e=>{if(_e(e.timezone))return;const o=new Date,t=new Date(o.toLocaleString("en-US",{timeZone:e.timezone})),l={id:e.id,city:b(`tools.worldClock.cities.${e.nameKey}`),timezone:e.timezone,time:Le(t),date:Ue(t),difference:Te(t,o),isNight:Fe(t),nameKey:e.nameKey};Ke.value.push(l),Ee()},Ve=()=>{const e=$e.value.trim();if(e)try{const o=new Date,t=new Date(o.toLocaleString("en-US",{timeZone:e}));if(_e(e))return;const l={id:`custom-${Date.now()}`,city:e.split("/").pop()||e,timezone:e,time:Le(t),date:Ue(t),difference:Te(t,o),isNight:Fe(t)};Ke.value.push(l),$e.value="",Ee()}catch(o){}},_e=e=>Ke.value.some(o=>o.timezone===e),Ee=()=>{const e=Ke.value.map(e=>({id:e.id,city:e.city,timezone:e.timezone,nameKey:e.nameKey}));localStorage.setItem("worldClockTimezones",JSON.stringify(e))},Ze=()=>{De&&clearInterval(De),xe.autoRefresh&&(De=window.setInterval(Ae,1e3*xe.refreshInterval))};return i(()=>xe.autoRefresh,Ze),i(()=>xe.refreshInterval,Ze),i(()=>[xe.timeFormat,xe.showSeconds,xe.showDate],Ae),i(be,()=>{Ae(),Se.value.city=b("worldClock.local"),Ke.value.forEach(e=>{e.nameKey&&(e.city=b(`worldClock.cities.${e.nameKey}`))})}),s(()=>{(()=>{try{const e=localStorage.getItem("worldClockTimezones");e?JSON.parse(e).forEach(e=>{if(e.nameKey)Re({id:e.id,nameKey:e.nameKey,timezone:e.timezone});else{const o=new Date,t=new Date(o.toLocaleString("en-US",{timeZone:e.timezone}));Ke.value.push({id:e.id,city:e.city,timezone:e.timezone,time:Le(t),date:Ue(t),difference:Te(t,o),isNight:Fe(t)})}}):Ie.forEach(e=>{Re(e)})}catch(e){}})(),Ae(),Ze()}),n(()=>{De&&clearInterval(De)}),(e,o)=>(C(),c("div",x,[d("div",$,[d("h1",S,r(e.$t("tools.worldClock.title")),1),d("p",K,r(e.$t("tools.worldClock.description")),1)]),d("div",D,[d("div",I,[d("div",N,[d("label",L,r(e.$t("tools.worldClock.timeFormat"))+":",1),d("div",U,[d("label",T,[u(d("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>xe.timeFormat=e),type:"radio",value:"12"},null,512),[[y,xe.timeFormat]]),v(" "+r(e.$t("tools.worldClock.format12")),1)]),d("label",F,[u(d("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>xe.timeFormat=e),type:"radio",value:"24"},null,512),[[y,xe.timeFormat]]),v(" "+r(e.$t("tools.worldClock.format24")),1)])])]),d("div",A,[d("label",R,[u(d("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>xe.showSeconds=e),type:"checkbox"},null,512),[[f,xe.showSeconds]]),v(" "+r(e.$t("tools.worldClock.showSeconds")),1)])]),d("div",V,[d("label",_,[u(d("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>xe.showDate=e),type:"checkbox"},null,512),[[f,xe.showDate]]),v(" "+r(e.$t("tools.worldClock.showDate")),1)])]),d("div",E,[d("label",Z,[u(d("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>xe.autoRefresh=e),type:"checkbox"},null,512),[[f,xe.autoRefresh]]),v(" "+r(e.$t("tools.worldClock.autoRefresh")),1)])]),xe.autoRefresh?(C(),c("div",j,[d("label",q,r(e.$t("tools.worldClock.refreshInterval"))+":",1),u(d("select",{"onUpdate:modelValue":o[5]||(o[5]=e=>xe.refreshInterval=e),class:"form-select"},[d("option",O," 1 "+r(e.$t("tools.worldClock.seconds")),1),d("option",B," 5 "+r(e.$t("tools.worldClock.seconds")),1),d("option",J," 10 "+r(e.$t("tools.worldClock.seconds")),1),d("option",M," 30 "+r(e.$t("tools.worldClock.seconds")),1),d("option",Y," 60 "+r(e.$t("tools.worldClock.seconds")),1)],512),[[h,xe.refreshInterval]])])):m("",!0)]),d("div",H,[d("h2",null,r(e.$t("tools.worldClock.localTime")),1),d("div",P,[d("div",W,[d("div",G,r(Se.value.time),1),xe.showDate?(C(),c("div",Q,r(Se.value.date),1)):m("",!0)]),d("div",X,[d("div",ee,r(Se.value.city),1),d("div",oe,r(Se.value.timezone),1)])])]),d("div",te,[d("div",le,[d("h2",null,r(e.$t("tools.worldClock.currentTime")),1),d("div",ae,[d("div",ie,[u(d("input",{"onUpdate:modelValue":o[6]||(o[6]=e=>$e.value=e),type:"text",placeholder:e.$t("tools.worldClock.searchTimezone"),class:"search-input"},null,8,se),[[p,$e.value]]),d("button",{class:"btn btn-primary btn-sm",onClick:Ve},r(e.$t("tools.worldClock.addTimezone")),1)])])]),d("div",ne,[(C(!0),c(w,null,k(Ne.value,t=>(C(),c("div",{key:t.id,class:g(["time-card",{"night-time":t.isNight}])},[d("button",{class:"remove-btn",title:e.$t("tools.worldClock.removeTimezone"),onClick:e=>{return o=t.id,Ke.value=Ke.value.filter(e=>e.id!==o),void Ee();var o}},[...o[7]||(o[7]=[d("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[d("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])],8,ce),d("div",de,[d("div",re,r(t.time),1),xe.showDate?(C(),c("div",me,r(t.date),1)):m("",!0)]),d("div",ue,[d("div",ve,r(t.city),1),d("div",ye,r(t.timezone),1),d("div",fe,r(t.difference),1)]),d("div",he,[d("div",pe,[t.isNight?(C(),c("svg",we,[...o[8]||(o[8]=[d("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1)])])):(C(),c("svg",ke,[...o[9]||(o[9]=[z('<circle cx="12" cy="12" r="5" data-v-fef17dd4></circle><line x1="12" y1="1" x2="12" y2="3" data-v-fef17dd4></line><line x1="12" y1="21" x2="12" y2="23" data-v-fef17dd4></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-v-fef17dd4></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-v-fef17dd4></line><line x1="1" y1="12" x2="3" y2="12" data-v-fef17dd4></line><line x1="21" y1="12" x2="23" y2="12" data-v-fef17dd4></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-v-fef17dd4></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-v-fef17dd4></line>',9)])]))])])],2))),128))]),d("div",ge,[d("h3",null,r(e.$t("tools.worldClock.popularCities")),1),d("div",ze,[(C(),c(w,null,k(Ie,o=>d("button",{key:o.id,class:"btn btn-secondary btn-sm",disabled:_e(o.timezone),onClick:e=>Re(o)},r(e.$t(`tools.worldClock.cities.${o.nameKey}`)),9,Ce)),64))])])])])]))}}),[["__scopeId","data-v-fef17dd4"]]);export{be as default};
