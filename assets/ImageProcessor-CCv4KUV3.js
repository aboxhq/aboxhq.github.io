import{a as e,u as t,r as a,L as s,w as o,e as l,f as i,t as n,y as r,M as c,F as m,g as u,n as d,I as g,J as p,q as h,K as v,N as b,j as f}from"./vendor-GAldOsJ5.js";import{_ as y}from"./index-seUOhGQe.js";import"./qr-DE_AbQYC.js";const w={class:"image-processor"},k={class:"tool-header"},$={class:"tool-title"},P={class:"tool-description"},x={class:"tool-content"},C={class:"processor-layout"},I={class:"upload-section"},U={class:"section-header"},z={class:"upload-content"},D={class:"upload-note"},j={key:1,class:"image-preview"},q={class:"image-container"},A=["src"],F={class:"image-info"},M={class:"info-item"},R={class:"info-label"},V={class:"info-value"},B={class:"info-item"},E={class:"info-label"},L={class:"info-value"},_={class:"info-item"},S={class:"info-label"},G={class:"info-value"},J={key:0,class:"options-section"},K={class:"section-header"},N={class:"option-tabs"},O=["onClick"],W={class:"tab-content"},T={key:0,class:"tab-panel"},H={class:"form-group"},Q={class:"form-label"},X={class:"form-group"},Y={class:"form-label"},Z={class:"form-group"},ee={class:"checkbox-label"},te={key:1,class:"tab-panel"},ae={class:"form-group"},se={class:"form-label"},oe={key:0,class:"form-group"},le={class:"form-label"},ie={key:2,class:"tab-panel"},ne={class:"filter-grid"},re={class:"form-group"},ce={class:"form-label"},me={class:"form-group"},ue={class:"form-label"},de={key:1,class:"result-section"},ge={class:"section-header"},pe={class:"result-actions"},he={class:"image-container"},ve=["src"],be=y(e({__name:"ImageProcessor",setup(e){const{t:y}=t(),be=a(""),fe=a(""),ye=a("resize"),we=a(),ke=s({width:0,height:0,fileSize:0,format:""}),$e=s({width:0,height:0,maintainAspect:!0}),Pe=s({format:"jpeg",quality:90}),xe=s({brightness:100,contrast:100}),Ce=[{key:"resize"},{key:"format"},{key:"filters"}],Ie=e=>{const t=e.target.files?.[0];t&&ze(t)},Ue=e=>{e.preventDefault();const t=e.dataTransfer?.files[0];t&&t.type.startsWith("image/")&&ze(t)},ze=e=>{const t=new FileReader;t.onload=t=>{const a=new Image;a.onload=()=>{be.value=t.target?.result,fe.value=be.value,ke.width=a.width,ke.height=a.height,ke.fileSize=e.size,ke.format=e.type.split("/")[1].toUpperCase(),$e.width=a.width,$e.height=a.height},a.src=t.target?.result},t.readAsDataURL(e)},De=()=>{if(!be.value)return;const e=document.createElement("canvas"),t=e.getContext("2d"),a=new Image;a.onload=()=>{let{width:s,height:o}=$e;if($e.maintainAspect){const e=a.width/a.height;s/o>e?s=o*e:o=s/e}e.width=s,e.height=o,t?.drawImage(a,0,0,s,o),fe.value=e.toDataURL("image/png")},a.src=be.value},je=()=>{if(!be.value)return;const e=document.createElement("canvas"),t=e.getContext("2d"),a=new Image;a.onload=()=>{e.width=a.width,e.height=a.height,t?.drawImage(a,0,0);const s=`image/${Pe.format}`,o="jpeg"===Pe.format?Pe.quality/100:void 0;fe.value=e.toDataURL(s,o)},a.src=be.value},qe=e=>{if(!be.value)return;const t=document.createElement("canvas"),a=t.getContext("2d"),s=new Image;s.onload=()=>{if(t.width=s.width,t.height=s.height,a){switch(e){case"grayscale":a.filter="grayscale(100%)";break;case"sepia":a.filter="sepia(100%)";break;case"invert":a.filter="invert(100%)";break;case"blur":a.filter="blur(2px)"}a.drawImage(s,0,0),fe.value=t.toDataURL("image/png")}},s.src=be.value},Ae=()=>{if(!be.value)return;const e=document.createElement("canvas"),t=e.getContext("2d"),a=new Image;a.onload=()=>{e.width=a.width,e.height=a.height,t&&(t.filter=`brightness(${xe.brightness}%) contrast(${xe.contrast}%)`,t.drawImage(a,0,0),fe.value=e.toDataURL("image/png"))},a.src=be.value},Fe=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},Me=()=>{if(!fe.value)return;const e=document.createElement("a");e.download=`processed-image.${Pe.format}`,e.href=fe.value,e.click()},Re=()=>{fe.value=be.value,xe.brightness=100,xe.contrast=100},Ve=()=>{be.value="",fe.value="",we.value&&(we.value.value="")};return o(()=>$e.width,e=>{if($e.maintainAspect&&ke.width&&ke.height){const t=ke.width/ke.height;$e.height=Math.round(e/t)}}),o(()=>$e.height,e=>{if($e.maintainAspect&&ke.width&&ke.height){const t=ke.width/ke.height;$e.width=Math.round(e*t)}}),(e,t)=>(f(),l("div",w,[i("div",k,[i("h1",$,n(e.$t("tools.imageProcessor.title")),1),i("p",P,n(e.$t("tools.imageProcessor.description")),1)]),i("div",x,[i("div",C,[i("div",I,[i("div",U,[i("h2",null,n(e.$t("tools.imageProcessor.uploadImage")),1),be.value?(f(),l("button",{key:0,class:"btn btn-secondary btn-sm",onClick:Ve},n(e.$t("common.buttons.clear")),1)):r("",!0)]),be.value?r("",!0):(f(),l("div",{key:0,class:"image-upload-area",onDrop:Ue,onDragover:t[1]||(t[1]=c(()=>{},["prevent"])),onDragenter:t[2]||(t[2]=c(()=>{},["prevent"]))},[i("input",{ref_key:"fileInput",ref:we,type:"file",accept:"image/*",class:"file-input",onChange:Ie},null,544),i("div",z,[t[14]||(t[14]=i("svg",{class:"upload-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[i("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),i("polyline",{points:"21,15 16,10 5,21"})],-1)),i("h3",null,n(e.$t("tools.imageProcessor.dragDrop")),1),i("p",null,n(e.$t("common.or")),1),i("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=e=>we.value?.click())},n(e.$t("common.buttons.browse")),1),i("p",D,n(e.$t("tools.imageProcessor.supportedFormats")),1)])],32)),be.value?(f(),l("div",j,[i("h3",null,n(e.$t("tools.imageProcessor.originalImage")),1),i("div",q,[i("img",{src:be.value,alt:"Original",class:"preview-image"},null,8,A)]),i("div",F,[i("div",M,[i("span",R,n(e.$t("common.labels.size"))+":",1),i("span",V,n(ke.width)+" Ã— "+n(ke.height)+"px",1)]),i("div",B,[i("span",E,n(e.$t("tools.imageProcessor.fileSize"))+":",1),i("span",L,n(Fe(ke.fileSize)),1)]),i("div",_,[i("span",S,n(e.$t("common.labels.format"))+":",1),i("span",G,n(ke.format),1)])])])):r("",!0)]),be.value?(f(),l("div",J,[i("div",K,[i("h2",null,n(e.$t("tools.imageProcessor.processingOptions")),1)]),i("div",N,[(f(),l(m,null,u(Ce,t=>i("button",{key:t.key,class:d(["tab-button",{active:ye.value===t.key}]),onClick:e=>ye.value=t.key},n(e.$t(`tools.imageProcessor.tabs.${t.key}`)),11,O)),64))]),i("div",W,["resize"===ye.value?(f(),l("div",T,[i("div",H,[i("label",Q,n(e.$t("tools.imageProcessor.width"))+" (px):",1),g(i("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>$e.width=e),type:"number",class:"form-input",min:"1"},null,512),[[p,$e.width,void 0,{number:!0}]])]),i("div",X,[i("label",Y,n(e.$t("tools.imageProcessor.height"))+" (px):",1),g(i("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>$e.height=e),type:"number",class:"form-input",min:"1"},null,512),[[p,$e.height,void 0,{number:!0}]])]),i("div",Z,[i("label",ee,[g(i("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>$e.maintainAspect=e),type:"checkbox"},null,512),[[v,$e.maintainAspect]]),h(" "+n(e.$t("tools.imageProcessor.maintainAspect")),1)])]),i("button",{class:"btn btn-primary",onClick:De},n(e.$t("tools.imageProcessor.applyResize")),1)])):r("",!0),"format"===ye.value?(f(),l("div",te,[i("div",ae,[i("label",se,n(e.$t("tools.imageProcessor.outputFormat"))+":",1),g(i("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>Pe.format=e),class:"form-select"},[...t[15]||(t[15]=[i("option",{value:"jpeg"}," JPEG ",-1),i("option",{value:"png"}," PNG ",-1),i("option",{value:"webp"}," WebP ",-1)])],512),[[b,Pe.format]])]),"jpeg"===Pe.format?(f(),l("div",oe,[i("label",le,n(e.$t("tools.imageProcessor.quality"))+" ("+n(Pe.quality)+"%):",1),g(i("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>Pe.quality=e),type:"range",min:"1",max:"100",class:"range-input"},null,512),[[p,Pe.quality,void 0,{number:!0}]])])):r("",!0),i("button",{class:"btn btn-primary",onClick:je},n(e.$t("tools.imageProcessor.convertFormat")),1)])):r("",!0),"filters"===ye.value?(f(),l("div",ie,[i("div",ne,[i("button",{class:"btn btn-secondary",onClick:t[8]||(t[8]=e=>qe("grayscale"))},n(e.$t("tools.imageProcessor.filters.grayscale")),1),i("button",{class:"btn btn-secondary",onClick:t[9]||(t[9]=e=>qe("sepia"))},n(e.$t("tools.imageProcessor.filters.sepia")),1),i("button",{class:"btn btn-secondary",onClick:t[10]||(t[10]=e=>qe("invert"))},n(e.$t("tools.imageProcessor.filters.invert")),1),i("button",{class:"btn btn-secondary",onClick:t[11]||(t[11]=e=>qe("blur"))},n(e.$t("tools.imageProcessor.filters.blur")),1)]),i("div",re,[i("label",ce,n(e.$t("tools.imageProcessor.filters.brightness"))+" ("+n(xe.brightness)+"%):",1),g(i("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>xe.brightness=e),type:"range",min:"0",max:"200",class:"range-input"},null,512),[[p,xe.brightness,void 0,{number:!0}]])]),i("div",me,[i("label",ue,n(e.$t("tools.imageProcessor.filters.contrast"))+" ("+n(xe.contrast)+"%):",1),g(i("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>xe.contrast=e),type:"range",min:"0",max:"200",class:"range-input"},null,512),[[p,xe.contrast,void 0,{number:!0}]])]),i("button",{class:"btn btn-primary",onClick:Ae},n(e.$t("tools.imageProcessor.applyFilters")),1)])):r("",!0)])])):r("",!0),fe.value?(f(),l("div",de,[i("div",ge,[i("h2",null,n(e.$t("tools.imageProcessor.processedImage")),1),i("div",pe,[i("button",{class:"btn btn-primary btn-sm",onClick:Me},n(e.$t("tools.imageProcessor.download")),1),i("button",{class:"btn btn-secondary btn-sm",onClick:Re},n(e.$t("tools.imageProcessor.reset")),1)])]),i("div",he,[i("img",{src:fe.value,alt:"Processed",class:"preview-image"},null,8,ve)])])):r("",!0)])])]))}}),[["__scopeId","data-v-82d3c1fa"]]);export{be as default};
