import{a as e,u as a,r as t,o as l,e as s,f as n,t as i,F as r,g as o,n as d,y as c,I as p,J as u,x as m,G as x,S as v,j as y,H as b}from"./vendor-sPCxxDNi.js";import{s as h}from"./toast-CSo0l4e7.js";import{_ as f}from"./index-BFyA9hmL.js";import"./qr-DE_AbQYC.js";const g={class:"tool-container"},k={class:"tool-header"},q={class:"tool-content"},$={class:"input-section"},R={class:"editor-tabs"},M=["onClick"],w={class:"editor-container"},C={key:0,class:"editor-panel"},L={class:"editor-header"},T={class:"editor-actions"},_=["placeholder"],S={class:"quick-insert"},H={class:"symbol-groups"},E={class:"symbol-buttons"},I=["title","onClick"],G=["innerHTML"],A={key:1,class:"editor-panel"},j={class:"editor-header"},D={class:"visual-editor"},N={class:"equation-builder"},P={class:"builder-section"},B={class:"operation-buttons"},V=["onClick"],z={class:"builder-section"},F={class:"function-buttons"},O=["onClick"],U={class:"builder-section"},J={class:"equation-display"},Q=["placeholder"],Z={key:2,class:"editor-panel"},K={class:"editor-header"},W={class:"examples-grid"},X=["onClick"],Y=["innerHTML"],ee={class:"example-latex"},ae={class:"output-section"},te={class:"output-header"},le={class:"output-actions"},se={class:"math-output"},ne={key:0,class:"error-message"},ie=["innerHTML"],re={key:2,class:"placeholder"},oe={key:0,class:"latex-source"},de={class:"latex-code"},ce={class:"reference-section"},pe={class:"reference-tabs"},ue=["onClick"],me={class:"reference-content"},xe={key:0,class:"symbols-reference"},ve={class:"symbol-table"},ye=["innerHTML"],be={class:"symbol-latex"},he={class:"symbol-description"},fe={key:1,class:"functions-reference"},ge={class:"function-table"},ke={class:"function-name"},qe={class:"function-syntax"},$e=["innerHTML"],Re={class:"function-description"},Me={key:2,class:"environments-reference"},we={class:"environment-example"},Ce={class:"code-block"},Le=["innerHTML"],Te=f(e({__name:"MathRenderer",setup(e){const{t:f}=a(),Te=()=>b("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[b("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.95 9 11 5.16-1.05 9-5.45 9-11V7l-10-5z"}),b("path",{d:"M8 11l2 2 4-4"})]),_e=()=>b("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[b("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),b("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),b("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]),Se=t("latex"),He=t("symbols"),Ee=t("E = mc^2"),Ie=t(""),Ge=t(""),Ae=t(""),je=t(),De=[{key:"latex"},{key:"visual"},{key:"examples"}],Ne=[{key:"symbols"},{key:"functions"},{key:"environments"}],Pe=[{name:"basic",symbols:[{latex:"+",display:"+",description:"Addition"},{latex:"-",display:"−",description:"Subtraction"},{latex:"\\times",display:"×",description:"Multiplication"},{latex:"\\div",display:"÷",description:"Division"},{latex:"=",display:"=",description:"Equals"},{latex:"\\neq",display:"≠",description:"Not equal"},{latex:"<",display:"<",description:"Less than"},{latex:">",display:">",description:"Greater than"},{latex:"\\leq",display:"≤",description:"Less than or equal"},{latex:"\\geq",display:"≥",description:"Greater than or equal"}]},{name:"fractions",symbols:[{latex:"\\frac{a}{b}",display:"a/b",description:"Fraction"},{latex:"\\dfrac{a}{b}",display:"a/b",description:"Display fraction"},{latex:"\\tfrac{a}{b}",display:"a/b",description:"Text fraction"}]},{name:"powers",symbols:[{latex:"x^2",display:"x²",description:"Superscript"},{latex:"x_2",display:"x₂",description:"Subscript"},{latex:"\\sqrt{x}",display:"√x",description:"Square root"},{latex:"\\sqrt[n]{x}",display:"ⁿ√x",description:"nth root"}]},{name:"greek",symbols:[{latex:"\\alpha",display:"α",description:"Alpha"},{latex:"\\beta",display:"β",description:"Beta"},{latex:"\\gamma",display:"γ",description:"Gamma"},{latex:"\\delta",display:"δ",description:"Delta"},{latex:"\\epsilon",display:"ε",description:"Epsilon"},{latex:"\\pi",display:"π",description:"Pi"},{latex:"\\theta",display:"θ",description:"Theta"},{latex:"\\lambda",display:"λ",description:"Lambda"},{latex:"\\mu",display:"μ",description:"Mu"},{latex:"\\sigma",display:"σ",description:"Sigma"}]}],Be=[{latex:"+",display:"+"},{latex:"-",display:"−"},{latex:"\\times",display:"×"},{latex:"\\div",display:"÷"},{latex:"=",display:"="},{latex:"\\frac{}{} ",display:"a/b"},{latex:"^{}",display:"xⁿ"},{latex:"_{}",display:"xₙ"},{latex:"\\sqrt{}",display:"√"},{latex:"()",display:"( )"}],Ve=[{latex:"\\sin",display:"sin"},{latex:"\\cos",display:"cos"},{latex:"\\tan",display:"tan"},{latex:"\\log",display:"log"},{latex:"\\ln",display:"ln"},{latex:"\\exp",display:"exp"},{latex:"\\lim",display:"lim"},{latex:"\\sum",display:"∑"},{latex:"\\int",display:"∫"},{latex:"\\prod",display:"∏"}],ze=[{name:"quadratic",latex:"x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}",preview:"<i>Quadratic Formula</i>"},{name:"integral",latex:"\\int_{-\\infty}^{\\infty} e^{-x^2} dx = \\sqrt{\\pi}",preview:"<i>Gaussian Integral</i>"},{name:"matrix",latex:"\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}",preview:"<i>2×2 Matrix</i>"},{name:"summation",latex:"\\sum_{n=1}^{\\infty} \\frac{1}{n^2} = \\frac{\\pi^2}{6}",preview:"<i>Basel Problem</i>"},{name:"derivative",latex:"\\frac{d}{dx}[f(x)] = \\lim_{h \\to 0} \\frac{f(x+h) - f(x)}{h}",preview:"<i>Derivative Definition</i>"},{name:"einstein",latex:"E = mc^2",preview:"<i>Mass-Energy Equivalence</i>"}],Fe=[{name:"arithmetic",symbols:[{latex:"+",rendered:"+",description:"Addition"},{latex:"-",rendered:"−",description:"Subtraction"},{latex:"\\times",rendered:"×",description:"Multiplication"},{latex:"\\div",rendered:"÷",description:"Division"},{latex:"\\pm",rendered:"±",description:"Plus or minus"},{latex:"\\mp",rendered:"∓",description:"Minus or plus"}]},{name:"relations",symbols:[{latex:"=",rendered:"=",description:"Equal to"},{latex:"\\neq",rendered:"≠",description:"Not equal to"},{latex:"<",rendered:"<",description:"Less than"},{latex:">",rendered:">",description:"Greater than"},{latex:"\\leq",rendered:"≤",description:"Less than or equal to"},{latex:"\\geq",rendered:"≥",description:"Greater than or equal to"},{latex:"\\approx",rendered:"≈",description:"Approximately equal to"},{latex:"\\equiv",rendered:"≡",description:"Identical to"}]}],Oe=[{name:"frac",syntax:"\\frac{numerator}{denominator}",example:"\\frac{1}{2}",description:"Creates a fraction"},{name:"sqrt",syntax:"\\sqrt[n]{expression}",example:"\\sqrt{x^2 + y^2}",description:"Square root or nth root"},{name:"sum",syntax:"\\sum_{lower}^{upper}",example:"\\sum_{i=1}^{n} i",description:"Summation notation"},{name:"int",syntax:"\\int_{lower}^{upper}",example:"\\int_0^1 x dx",description:"Integral notation"}],Ue=[{name:"Matrix",description:"Create matrices with various bracket types",example:"\\begin{pmatrix}\na & b \\\\\nc & d\n\\end{pmatrix}",rendered:"Matrix example"},{name:"Align",description:"Align multiple equations",example:"\\begin{align}\nx &= y + z \\\\\na &= b + c\n\\end{align}",rendered:"Aligned equations"}];let Je=null;const Qe=()=>{Je&&clearTimeout(Je),Je=setTimeout(()=>{Ze()},500)},Ze=()=>{if(!Ee.value.trim())return Ge.value="",void(Ae.value="");try{let e=Ee.value;e=e.replace(/\^{([^}]+)}/g,"<sup>$1</sup>"),e=e.replace(/_{([^}]+)}/g,"<sub>$1</sub>"),e=e.replace(/\^(\w)/g,"<sup>$1</sup>"),e=e.replace(/_(\w)/g,"<sub>$1</sub>"),e=e.replace(/\\frac{([^}]+)}{([^}]+)}/g,'<div class="fraction"><span class="numerator">$1</span><span class="denominator">$2</span></div>'),e=e.replace(/\\sqrt{([^}]+)}/g,'<span class="sqrt">√<span class="sqrt-content">$1</span></span>');const a={"\\alpha":"α","\\beta":"β","\\gamma":"γ","\\delta":"δ","\\epsilon":"ε","\\pi":"π","\\theta":"θ","\\lambda":"λ","\\mu":"μ","\\sigma":"σ","\\phi":"φ","\\omega":"ω"};Object.entries(a).forEach(([a,t])=>{e=e.replace(new RegExp(a.replace("\\","\\\\"),"g"),t)}),e=e.replace(/\\times/g,"×"),e=e.replace(/\\div/g,"÷"),e=e.replace(/\\neq/g,"≠"),e=e.replace(/\\leq/g,"≤"),e=e.replace(/\\geq/g,"≥"),e=e.replace(/\\pm/g,"±"),e=e.replace(/\\approx/g,"≈"),e=e.replace(/\\(sin|cos|tan|log|ln|exp)/g,"$1"),e=e.replace(/\\sum/g,"∑"),e=e.replace(/\\int/g,"∫"),e=e.replace(/\\prod/g,"∏"),Ge.value=`<div class="math-expression">${e}</div>`,Ae.value=""}catch(e){Ae.value=f("tools.mathRenderer.error.invalidLatex"),Ge.value=""}},Ke=e=>{Ie.value+=e,We()},We=()=>{Ee.value=Ie.value,Ze()},Xe=()=>{Ee.value="",Ge.value="",Ae.value=""},Ye=()=>{Ie.value="",We()},ea=async()=>{try{await navigator.clipboard.writeText(Ee.value),h.success(f("tools.mathRenderer.messages.copied"))}catch(e){}},aa=()=>{h.info(f("tools.mathRenderer.messages.exportNotImplemented"))},ta=()=>{alert(f("tools.mathRenderer.messages.exportNotImplemented"))};return l(()=>{Ze()}),(e,a)=>(y(),s("div",g,[n("div",k,[n("h1",null,i(e.$t("tools.mathRenderer.title")),1),n("p",null,i(e.$t("tools.mathRenderer.description")),1)]),n("div",q,[n("div",$,[n("div",R,[(y(),s(r,null,o(De,a=>n("button",{key:a.key,class:d(["tab-button",{active:Se.value===a.key}]),onClick:e=>Se.value=a.key},i(e.$t(`tools.mathRenderer.tabs.${a.key}`)),11,M)),64))]),n("div",w,["latex"===Se.value?(y(),s("div",C,[n("div",L,[n("h3",null,i(e.$t("tools.mathRenderer.latex.title")),1),n("div",T,[n("button",{class:"btn btn-sm btn-secondary",onClick:Xe},i(e.$t("tools.mathRenderer.buttons.clear")),1),n("button",{class:"btn btn-sm btn-primary",onClick:Ze},i(e.$t("tools.mathRenderer.buttons.render")),1)])]),p(n("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>Ee.value=e),placeholder:e.$t("tools.mathRenderer.latex.placeholder"),class:"latex-editor",rows:"8",onInput:Qe},null,40,_),[[u,Ee.value]]),n("div",S,[n("h4",null,i(e.$t("tools.mathRenderer.quickInsert.title")),1),n("div",H,[(y(),s(r,null,o(Pe,a=>n("div",{key:a.name,class:"symbol-group"},[n("h5",null,i(e.$t(`tools.mathRenderer.quickInsert.${a.name}`)),1),n("div",E,[(y(!0),s(r,null,o(a.symbols,e=>(y(),s("button",{key:e.latex,class:"symbol-btn",title:e.description,onClick:a=>(e=>{const a=document.querySelector(".latex-editor");if(a){const t=a.selectionStart,l=a.selectionEnd,s=Ee.value;Ee.value=s.substring(0,t)+e+s.substring(l),v(()=>{a.focus(),a.setSelectionRange(t+e.length,t+e.length),Ze()})}})(e.latex)},[n("span",{innerHTML:e.display},null,8,G)],8,I))),128))])])),64))])])])):c("",!0),"visual"===Se.value?(y(),s("div",A,[n("div",j,[n("h3",null,i(e.$t("tools.mathRenderer.visual.title")),1),n("p",null,i(e.$t("tools.mathRenderer.visual.description")),1)]),n("div",D,[n("div",N,[n("div",P,[n("h4",null,i(e.$t("tools.mathRenderer.visual.basicOperations")),1),n("div",B,[(y(),s(r,null,o(Be,e=>n("button",{key:e.latex,class:"operation-btn",onClick:a=>Ke(e.latex)},i(e.display),9,V)),64))])]),n("div",z,[n("h4",null,i(e.$t("tools.mathRenderer.visual.functions")),1),n("div",F,[(y(),s(r,null,o(Ve,e=>n("button",{key:e.latex,class:"function-btn",onClick:a=>Ke(e.latex)},i(e.display),9,O)),64))])]),n("div",U,[n("h4",null,i(e.$t("tools.mathRenderer.visual.currentEquation")),1),n("div",J,[p(n("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>Ie.value=e),class:"equation-input",placeholder:e.$t("tools.mathRenderer.visual.equationPlaceholder"),onInput:We},null,40,Q),[[u,Ie.value]]),n("button",{class:"btn btn-sm btn-secondary",onClick:Ye},i(e.$t("tools.mathRenderer.buttons.clear")),1)])])])])])):c("",!0),"examples"===Se.value?(y(),s("div",Z,[n("div",K,[n("h3",null,i(e.$t("tools.mathRenderer.examples.title")),1),n("p",null,i(e.$t("tools.mathRenderer.examples.description")),1)]),n("div",W,[(y(),s(r,null,o(ze,a=>n("div",{key:a.name,class:"example-card",onClick:e=>(e=>{Ee.value=e.latex,Se.value="latex",Ze()})(a)},[n("h4",null,i(e.$t(`tools.mathRenderer.examples.${a.name}`)),1),n("div",{class:"example-preview",innerHTML:a.preview},null,8,Y),n("div",ee,i(a.latex),1)],8,X)),64))])])):c("",!0)])]),n("div",ae,[n("div",te,[n("h3",null,i(e.$t("tools.mathRenderer.output.title")),1),n("div",le,[n("button",{class:"btn btn-sm btn-secondary",onClick:ea},i(e.$t("tools.mathRenderer.buttons.copyLatex")),1),n("button",{class:"btn btn-sm btn-secondary",onClick:aa},i(e.$t("tools.mathRenderer.buttons.exportSVG")),1),n("button",{class:"btn btn-sm btn-primary",onClick:ta},i(e.$t("tools.mathRenderer.buttons.exportPNG")),1)])]),n("div",se,[Ae.value?(y(),s("div",ne,[(y(),m(x(_e),{class:"error-icon"})),n("div",null,[n("h4",null,i(e.$t("tools.mathRenderer.error.title")),1),n("p",null,i(Ae.value),1)])])):Ge.value?(y(),s("div",{key:1,ref_key:"mathOutput",ref:je,class:"rendered-math"},[n("div",{innerHTML:Ge.value},null,8,ie)],512)):(y(),s("div",re,[(y(),m(x(Te),{class:"placeholder-icon"})),n("p",null,i(e.$t("tools.mathRenderer.output.placeholder")),1)]))]),Ee.value?(y(),s("div",oe,[n("h4",null,i(e.$t("tools.mathRenderer.output.latexSource")),1),n("pre",de,i(Ee.value),1)])):c("",!0)]),n("div",ce,[n("h3",null,i(e.$t("tools.mathRenderer.reference.title")),1),n("p",null,i(e.$t("tools.mathRenderer.reference.description")),1),n("div",pe,[(y(),s(r,null,o(Ne,a=>n("button",{key:a.key,class:d(["ref-tab-button",{active:He.value===a.key}]),onClick:e=>He.value=a.key},i(e.$t(`tools.mathRenderer.reference.${a.key}`)),11,ue)),64))]),n("div",me,["symbols"===He.value?(y(),s("div",xe,[(y(),s(r,null,o(Fe,a=>n("div",{key:a.name,class:"symbol-category"},[n("h4",null,i(e.$t(`tools.mathRenderer.reference.categories.${a.name}`)),1),n("div",ve,[(y(!0),s(r,null,o(a.symbols,e=>(y(),s("div",{key:e.latex,class:"symbol-row"},[n("div",{class:"symbol-display",innerHTML:e.rendered},null,8,ye),n("div",be,i(e.latex),1),n("div",he,i(e.description),1)]))),128))])])),64))])):c("",!0),"functions"===He.value?(y(),s("div",fe,[n("div",ge,[(y(),s(r,null,o(Oe,e=>n("div",{key:e.name,class:"function-row"},[n("div",ke,i(e.name),1),n("div",qe,i(e.syntax),1),n("div",{class:"function-example",innerHTML:e.example},null,8,$e),n("div",Re,i(e.description),1)])),64))])])):c("",!0),"environments"===He.value?(y(),s("div",Me,[(y(),s(r,null,o(Ue,a=>n("div",{key:a.name,class:"environment-card"},[n("h4",null,i(a.name),1),n("p",null,i(a.description),1),n("div",we,[n("h5",null,i(e.$t("tools.mathRenderer.reference.example")),1),n("pre",Ce,i(a.example),1),n("div",{class:"rendered-example",innerHTML:a.rendered},null,8,Le)])])),64))])):c("",!0)])])])]))}}),[["__scopeId","data-v-d7093f56"]]);export{Te as default};
