import{a as t,u as e,r as o,L as a,c as l,o as s,e as i,f as d,y as n,t as r,I as c,J as u,Q as p,N as m,F as v,g,n as y,q as b,K as f,M as $,j as h}from"./vendor-GAldOsJ5.js";import{s as M}from"./toast-BhoKftcT.js";import{F as k}from"./utils-CpTIjOSr.js";import{_ as D}from"./index-DcaCmn-e.js";import"./qr-DE_AbQYC.js";const C={class:"todo-manager"},w={class:"tool-header"},S={class:"todo-container"},A={class:"todo-input"},x={class:"input-section"},j=["placeholder"],O={value:"low"},U={value:"medium"},V={value:"high"},I=["disabled"],T=["placeholder"],_={class:"todo-filters"},B={class:"filter-tabs"},J=["onClick"],N={class:"filter-count"},F={class:"sort-controls"},L={value:"created"},P={value:"priority"},q={value:"dueDate"},K={value:"title"},E={class:"todo-stats"},Q={class:"stat-item"},R={class:"stat-value"},z={class:"stat-label"},G={class:"stat-item"},H={class:"stat-value"},W={class:"stat-label"},X={class:"stat-item"},Y={class:"stat-value"},Z={class:"stat-label"},tt={class:"stat-item"},et={class:"stat-value"},ot={class:"stat-label"},at={class:"todo-list"},lt={class:"todo-checkbox"},st=["onUpdate:modelValue","onChange"],it=["onClick"],dt={class:"todo-header"},nt={class:"todo-meta"},rt={key:0,class:"todo-description"},ct={class:"todo-footer"},ut={class:"created-date"},pt={key:0,class:"completed-date"},mt={class:"todo-actions"},vt=["onClick"],gt=["onClick"],yt={key:0,class:"empty-state"},bt={class:"modal-header"},ft={class:"modal-body"},$t={class:"form-group"},ht={class:"form-group"},Mt={class:"form-row"},kt={class:"form-group"},Dt={value:"low"},Ct={value:"medium"},wt={value:"high"},St={class:"form-group"},At={class:"modal-footer"},xt={class:"todo-actions-bar"},jt=["disabled"],Ot=D(t({__name:"TodoManager",setup(t){const{t:D}=e(),Ot=o([]),Ut=o("all"),Vt=o("created"),It=o("desc"),Tt=o(null),_t=o(),Bt=a({title:"",description:"",priority:"medium",dueDate:""}),Jt=a({title:"",description:"",priority:"medium",dueDate:""}),Nt=["all","pending","completed","overdue"],Ft=l(()=>Ot.value.filter(t=>t.completed)),Lt=l(()=>Ot.value.filter(t=>!t.completed)),Pt=l(()=>Ot.value.filter(t=>Wt(t)&&!t.completed)),qt=t=>{switch(t){case"completed":return Ft.value;case"pending":return Lt.value;case"overdue":return Pt.value;default:return Ot.value}},Kt=l(()=>qt(Ut.value)),Et=l(()=>[...Kt.value].sort((t,e)=>{let o,a;switch(Vt.value){case"priority":const l={high:3,medium:2,low:1};o=l[t.priority],a=l[e.priority];break;case"dueDate":o=t.dueDate||"9999-12-31",a=e.dueDate||"9999-12-31";break;case"title":o=t.title.toLowerCase(),a=e.title.toLowerCase();break;default:o=t.createdAt,a=e.createdAt}return"asc"===It.value?o>a?1:-1:o<a?1:-1})),Qt=()=>{if(!Bt.title.trim())return;const t={id:Date.now().toString(),title:Bt.title.trim(),description:Bt.description.trim(),completed:!1,priority:Bt.priority,dueDate:Bt.dueDate,createdAt:(new Date).toISOString()};Ot.value.unshift(t),Object.assign(Bt,{title:"",description:"",priority:"medium",dueDate:""}),Yt()},Rt=t=>{Tt.value=t,Object.assign(Jt,{title:t.title,description:t.description,priority:t.priority,dueDate:t.dueDate})},zt=()=>{Tt.value&&Jt.title.trim()&&(Object.assign(Tt.value,{title:Jt.title.trim(),description:Jt.description.trim(),priority:Jt.priority,dueDate:Jt.dueDate}),Tt.value=null,Yt())},Gt=()=>{Tt.value=null},Ht=()=>{confirm(D("tools.todoManager.clearCompletedConfirm"))&&(Ot.value=Ot.value.filter(t=>!t.completed),Yt())},Wt=t=>!(!t.dueDate||t.completed)&&new Date(t.dueDate)<new Date,Xt=t=>new Date(t).toLocaleDateString(),Yt=()=>{localStorage.setItem("todos",JSON.stringify(Ot.value))},Zt=()=>{const t={todos:Ot.value,exportedAt:(new Date).toISOString()},e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"});k.saveAs(e,`todos-${(new Date).toISOString().split("T")[0]}.json`)},te=()=>{_t.value?.click()},ee=t=>{const e=t.target,o=e.files?.[0];if(!o)return;const a=new FileReader;a.onload=t=>{try{const e=JSON.parse(t.target?.result);e.todos&&Array.isArray(e.todos)&&(Ot.value=e.todos,Yt())}catch(e){M.error(D("tools.todoManager.importError"))}},a.readAsText(o)};return s(()=>{(()=>{const t=localStorage.getItem("todos");t&&(Ot.value=JSON.parse(t))})()}),(t,e)=>(h(),i("div",C,[d("div",w,[d("h1",null,r(t.$t("tools.todoManager.title")),1),d("p",null,r(t.$t("tools.todoManager.description")),1)]),d("div",S,[d("div",A,[d("div",x,[c(d("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>Bt.title=t),type:"text",class:"todo-title-input",placeholder:t.$t("tools.todoManager.titlePlaceholder"),onKeyup:p(Qt,["enter"])},null,40,j),[[u,Bt.title]]),c(d("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>Bt.priority=t),class:"priority-select"},[d("option",O,r(t.$t("tools.todoManager.low")),1),d("option",U,r(t.$t("tools.todoManager.medium")),1),d("option",V,r(t.$t("tools.todoManager.high")),1)],512),[[m,Bt.priority]]),c(d("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>Bt.dueDate=t),type:"date",class:"due-date-input"},null,512),[[u,Bt.dueDate]]),d("button",{disabled:!Bt.title.trim(),class:"add-btn",onClick:Qt},r(t.$t("tools.todoManager.add")),9,I)]),c(d("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>Bt.description=t),class:"todo-description-input",placeholder:t.$t("tools.todoManager.descriptionPlaceholder")},null,8,T),[[u,Bt.description]])]),d("div",_,[d("div",B,[(h(),i(v,null,g(Nt,e=>d("button",{key:e,class:y([{active:Ut.value===e},"filter-tab"]),onClick:t=>Ut.value=e},[b(r(t.$t(`tools.todoManager.${e}`))+" ",1),d("span",N,"("+r(qt(e).length)+")",1)],10,J)),64))]),d("div",F,[c(d("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>Vt.value=t),class:"sort-select"},[d("option",L,r(t.$t("tools.todoManager.sortByCreated")),1),d("option",P,r(t.$t("tools.todoManager.sortByPriority")),1),d("option",q,r(t.$t("tools.todoManager.sortByDueDate")),1),d("option",K,r(t.$t("tools.todoManager.sortByTitle")),1)],512),[[m,Vt.value]]),d("button",{class:"sort-order-btn",onClick:e[5]||(e[5]=t=>It.value="asc"===It.value?"desc":"asc")},r("asc"===It.value?"â†‘":"â†“"),1)])]),d("div",E,[d("div",Q,[d("span",R,r(Ot.value.length),1),d("span",z,r(t.$t("tools.todoManager.total")),1)]),d("div",G,[d("span",H,r(Ft.value.length),1),d("span",W,r(t.$t("tools.todoManager.completed")),1)]),d("div",X,[d("span",Y,r(Lt.value.length),1),d("span",Z,r(t.$t("tools.todoManager.pending")),1)]),d("div",tt,[d("span",et,r(Pt.value.length),1),d("span",ot,r(t.$t("tools.todoManager.overdue")),1)])]),d("div",at,[(h(!0),i(v,null,g(Et.value,e=>(h(),i("div",{key:e.id,class:y(["todo-item",{completed:e.completed,overdue:Wt(e),[`priority-${e.priority}`]:!0}])},[d("div",lt,[c(d("input",{"onUpdate:modelValue":t=>e.completed=t,type:"checkbox",class:"checkbox",onChange:t=>(t=>{t.completed&&!t.completedAt?t.completedAt=(new Date).toISOString():t.completed||delete t.completedAt,Yt()})(e)},null,40,st),[[f,e.completed]])]),d("div",{class:"todo-content",onClick:t=>Rt(e)},[d("div",dt,[d("h3",{class:y(["todo-title",{completed:e.completed}])},r(e.title),3),d("div",nt,[d("span",{class:y(["priority-badge",`priority-${e.priority}`])},r(t.$t(`tools.todoManager.${e.priority}`)),3),e.dueDate?(h(),i("span",{key:0,class:y(["due-date",{overdue:Wt(e)}])},r(Xt(e.dueDate)),3)):n("",!0)])]),e.description?(h(),i("p",rt,r(e.description),1)):n("",!0),d("div",ct,[d("span",ut,r(t.$t("tools.todoManager.created"))+": "+r(Xt(e.createdAt)),1),e.completedAt?(h(),i("span",pt,r(t.$t("tools.todoManager.completedAt"))+": "+r(Xt(e.completedAt)),1)):n("",!0)])],8,it),d("div",mt,[d("button",{class:"action-btn edit-btn",onClick:t=>Rt(e)}," âœï¸ ",8,vt),d("button",{class:"action-btn delete-btn",onClick:t=>{return o=e.id,void(confirm(D("tools.todoManager.deleteConfirm"))&&(Ot.value=Ot.value.filter(t=>t.id!==o),Yt()));var o}}," ðŸ—‘ï¸ ",8,gt)])],2))),128)),0===Et.value.length?(h(),i("div",yt,[e[11]||(e[11]=d("div",{class:"empty-icon"}," ðŸ“ ",-1)),d("h3",null,r(t.$t("tools.todoManager.noTodos")),1),d("p",null,r(t.$t("tools.todoManager.addFirstTodo")),1)])):n("",!0)])]),Tt.value?(h(),i("div",{key:0,class:"modal-overlay",onClick:Gt},[d("div",{class:"modal-content",onClick:e[10]||(e[10]=$(()=>{},["stop"]))},[d("div",bt,[d("h3",null,r(t.$t("tools.todoManager.editTodo")),1),d("button",{class:"close-btn",onClick:Gt}," Ã— ")]),d("div",ft,[d("div",$t,[d("label",null,r(t.$t("tools.todoManager.title")),1),c(d("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>Jt.title=t),type:"text",class:"form-input"},null,512),[[u,Jt.title]])]),d("div",ht,[d("label",null,r(t.$t("tools.todoManager.description")),1),c(d("textarea",{"onUpdate:modelValue":e[7]||(e[7]=t=>Jt.description=t),class:"form-textarea"},null,512),[[u,Jt.description]])]),d("div",Mt,[d("div",kt,[d("label",null,r(t.$t("tools.todoManager.priority")),1),c(d("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>Jt.priority=t),class:"form-select"},[d("option",Dt,r(t.$t("tools.todoManager.low")),1),d("option",Ct,r(t.$t("tools.todoManager.medium")),1),d("option",wt,r(t.$t("tools.todoManager.high")),1)],512),[[m,Jt.priority]])]),d("div",St,[d("label",null,r(t.$t("tools.todoManager.dueDate")),1),c(d("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>Jt.dueDate=t),type:"date",class:"form-input"},null,512),[[u,Jt.dueDate]])])])]),d("div",At,[d("button",{class:"cancel-btn",onClick:Gt},r(t.$t("common.buttons.cancel")),1),d("button",{class:"save-btn",onClick:zt},r(t.$t("common.buttons.save")),1)])])])):n("",!0),d("div",xt,[d("button",{disabled:0===Ft.value.length,class:"action-bar-btn",onClick:Ht},r(t.$t("tools.todoManager.clearCompleted")),9,jt),d("button",{class:"action-bar-btn",onClick:Zt},r(t.$t("tools.todoManager.export")),1),d("button",{class:"action-bar-btn",onClick:te},r(t.$t("tools.todoManager.import")),1),d("input",{ref_key:"importInput",ref:_t,type:"file",accept:".json",style:{display:"none"},onChange:ee},null,544)])]))}}),[["__scopeId","data-v-84860b9c"]]);export{Ot as default};
