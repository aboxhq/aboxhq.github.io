import{a as e,r as a,L as t,e as s,f as o,y as l,t as n,I as r,N as d,k as p,J as u,F as i,g as c,n as y,q as h,O as v,j as m}from"./vendor-GAldOsJ5.js";import{_ as b}from"./index-CE9ZUSgX.js";import"./qr-DE_AbQYC.js";const T={class:"api-tester"},k={class:"tool-header"},$={class:"request-section"},f={class:"request-line"},x=["placeholder"],U=["disabled"],V={class:"request-config"},C={class:"config-tabs"},q=["onClick"],w={class:"tab-content"},O={key:0,class:"headers-section"},j={class:"headers-list"},S=["onUpdate:modelValue","placeholder"],g=["onUpdate:modelValue","placeholder"],P=["onClick"],D={key:1,class:"body-section"},E={class:"body-type-selector"},B={class:"body-type-option"},N={class:"body-type-option"},A={class:"body-type-option"},K={class:"body-type-option"},J={key:0,class:"json-body"},I=["placeholder"],M={key:1,class:"form-body"},z=["onUpdate:modelValue","placeholder"],H=["onUpdate:modelValue","placeholder"],_=["onClick"],G={key:2,class:"text-body"},F=["placeholder"],L={key:2,class:"auth-section"},R={class:"auth-type-selector"},Q={class:"auth-type-option"},W={class:"auth-type-option"},X={class:"auth-type-option"},Y={class:"auth-type-option"},Z={key:0,class:"bearer-auth"},ee=["placeholder"],ae={key:1,class:"basic-auth"},te=["placeholder"],se=["placeholder"],oe={key:2,class:"apikey-auth"},le=["placeholder"],ne=["placeholder"],re={value:"header"},de={value:"query"},pe={key:0,class:"response-section"},ue={class:"response-header"},ie={class:"response-meta"},ce={class:"response-time"},ye={class:"response-size"},he={class:"response-tabs"},ve=["onClick"],me={class:"response-content"},be={key:0,class:"response-body"},Te={class:"response-text"},ke={key:1,class:"response-headers"},$e={class:"header-key"},fe={class:"header-value"},xe={class:"saved-requests"},Ue={class:"requests-list"},Ve={class:"request-info"},Ce={class:"request-method"},qe={class:"request-url"},we={class:"request-actions"},Oe=["onClick"],je=["onClick"],Se=b(e({__name:"APITester",setup(e){const b=a(!1),Se=a("headers"),ge=a("body"),Pe=a(null),De=["headers","body","auth"],Ee=["body","headers"],Be=t({method:"GET",url:"https://jsonplaceholder.typicode.com/posts/1",headers:[{key:"Content-Type",value:"application/json"}],bodyType:"none",jsonBody:'{\n  "title": "foo",\n  "body": "bar",\n  "userId": 1\n}',formData:[{key:"",value:""}],textBody:"",authType:"none",bearerToken:"",basicAuth:{username:"",password:""},apiKey:{key:"",value:"",location:"header"}}),Ne=a([]),Ae=async()=>{if(!Be.url.trim())return;b.value=!0;const e=Date.now();try{await Ke()}catch(a){Pe.value={status:0,statusText:"Network Error",headers:{},body:`Error: ${a instanceof Error?a.message:"Unknown error"}`,time:Date.now()-e,size:0}}finally{b.value=!1}},Ke=async()=>{const e=Date.now();await new Promise(e=>setTimeout(e,500+1e3*Math.random()));let a={status:200,statusText:"OK",headers:{"Content-Type":"application/json",Server:"nginx/1.18.0",Date:(new Date).toUTCString()},time:Date.now()-e};Be.url.includes("jsonplaceholder")?"GET"===Be.method?a.body=JSON.stringify({userId:1,id:1,title:"sunt aut facere repellat provident occaecati excepturi optio reprehenderit",body:"quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"},null,2):"POST"===Be.method&&(a.status=201,a.body=JSON.stringify({id:101,title:"foo",body:"bar",userId:1},null,2)):a.body=JSON.stringify({message:"This is a simulated response",method:Be.method,url:Be.url,timestamp:(new Date).toISOString()},null,2),a.size=new Blob([a.body]).size,Pe.value=a},Je=()=>{Be.headers.push({key:"",value:""})},Ie=()=>{Be.formData.push({key:"",value:""})},Me=()=>{try{const e=JSON.parse(Be.jsonBody);Be.jsonBody=JSON.stringify(e,null,2)}catch(e){}},ze=e=>{if(0===e)return"0 B";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(1))+" "+["B","KB","MB"][a]},He=()=>{const e=prompt("Enter a name for this request:");e&&Ne.value.push({name:e,...JSON.parse(JSON.stringify(Be))})};return(e,a)=>{return m(),s("div",T,[o("div",k,[o("h1",null,n(e.$t("tools.apiTester.title")),1),o("p",null,n(e.$t("tools.apiTester.description")),1)]),o("div",$,[o("div",f,[r(o("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>Be.method=e),class:"method-select"},[...a[18]||(a[18]=[p('<option value="GET" data-v-552a05d7> GET </option><option value="POST" data-v-552a05d7> POST </option><option value="PUT" data-v-552a05d7> PUT </option><option value="DELETE" data-v-552a05d7> DELETE </option><option value="PATCH" data-v-552a05d7> PATCH </option><option value="HEAD" data-v-552a05d7> HEAD </option><option value="OPTIONS" data-v-552a05d7> OPTIONS </option>',7)])],512),[[d,Be.method]]),r(o("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>Be.url=e),type:"text",class:"url-input",placeholder:e.$t("tools.apiTester.urlPlaceholder")},null,8,x),[[u,Be.url]]),o("button",{disabled:b.value,class:"send-btn",onClick:Ae},n(b.value?e.$t("tools.apiTester.sending"):e.$t("tools.apiTester.send")),9,U)])]),o("div",V,[o("div",C,[(m(),s(i,null,c(De,a=>o("button",{key:a,class:y([{active:Se.value===a},"tab-btn"]),onClick:e=>Se.value=a},n(e.$t(`tools.apiTester.${a}`)),11,q)),64))]),o("div",w,["headers"===Se.value?(m(),s("div",O,[o("div",j,[(m(!0),s(i,null,c(Be.headers,(a,t)=>(m(),s("div",{key:t,class:"header-item"},[r(o("input",{"onUpdate:modelValue":e=>a.key=e,type:"text",placeholder:e.$t("tools.apiTester.headerKey"),class:"header-input"},null,8,S),[[u,a.key]]),r(o("input",{"onUpdate:modelValue":e=>a.value=e,type:"text",placeholder:e.$t("tools.apiTester.headerValue"),class:"header-input"},null,8,g),[[u,a.value]]),o("button",{class:"remove-btn",onClick:e=>(e=>{Be.headers.splice(e,1)})(t)}," × ",8,P)]))),128))]),o("button",{class:"add-btn",onClick:Je},n(e.$t("tools.apiTester.addHeader")),1)])):l("",!0),"body"===Se.value?(m(),s("div",D,[o("div",E,[o("label",B,[r(o("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>Be.bodyType=e),type:"radio",value:"none"},null,512),[[v,Be.bodyType]]),h(" "+n(e.$t("tools.apiTester.noBody")),1)]),o("label",N,[r(o("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>Be.bodyType=e),type:"radio",value:"json"},null,512),[[v,Be.bodyType]]),a[19]||(a[19]=h(" JSON ",-1))]),o("label",A,[r(o("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>Be.bodyType=e),type:"radio",value:"form"},null,512),[[v,Be.bodyType]]),h(" "+n(e.$t("tools.apiTester.formData")),1)]),o("label",K,[r(o("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>Be.bodyType=e),type:"radio",value:"text"},null,512),[[v,Be.bodyType]]),h(" "+n(e.$t("tools.apiTester.rawText")),1)])]),"json"===Be.bodyType?(m(),s("div",J,[r(o("textarea",{"onUpdate:modelValue":a[6]||(a[6]=e=>Be.jsonBody=e),class:"json-textarea",placeholder:e.$t("tools.apiTester.jsonPlaceholder")},null,8,I),[[u,Be.jsonBody]]),o("button",{class:"format-btn",onClick:Me},n(e.$t("tools.apiTester.formatJSON")),1)])):l("",!0),"form"===Be.bodyType?(m(),s("div",M,[(m(!0),s(i,null,c(Be.formData,(a,t)=>(m(),s("div",{key:t,class:"form-item"},[r(o("input",{"onUpdate:modelValue":e=>a.key=e,type:"text",placeholder:e.$t("tools.apiTester.paramKey"),class:"form-input"},null,8,z),[[u,a.key]]),r(o("input",{"onUpdate:modelValue":e=>a.value=e,type:"text",placeholder:e.$t("tools.apiTester.paramValue"),class:"form-input"},null,8,H),[[u,a.value]]),o("button",{class:"remove-btn",onClick:e=>(e=>{Be.formData.splice(e,1)})(t)}," × ",8,_)]))),128)),o("button",{class:"add-btn",onClick:Ie},n(e.$t("tools.apiTester.addParam")),1)])):l("",!0),"text"===Be.bodyType?(m(),s("div",G,[r(o("textarea",{"onUpdate:modelValue":a[7]||(a[7]=e=>Be.textBody=e),class:"text-textarea",placeholder:e.$t("tools.apiTester.textPlaceholder")},null,8,F),[[u,Be.textBody]])])):l("",!0)])):l("",!0),"auth"===Se.value?(m(),s("div",L,[o("div",R,[o("label",Q,[r(o("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>Be.authType=e),type:"radio",value:"none"},null,512),[[v,Be.authType]]),h(" "+n(e.$t("tools.apiTester.noAuth")),1)]),o("label",W,[r(o("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>Be.authType=e),type:"radio",value:"bearer"},null,512),[[v,Be.authType]]),h(" "+n(e.$t("tools.apiTester.bearerToken")),1)]),o("label",X,[r(o("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>Be.authType=e),type:"radio",value:"basic"},null,512),[[v,Be.authType]]),h(" "+n(e.$t("tools.apiTester.basicAuth")),1)]),o("label",Y,[r(o("input",{"onUpdate:modelValue":a[11]||(a[11]=e=>Be.authType=e),type:"radio",value:"apikey"},null,512),[[v,Be.authType]]),h(" "+n(e.$t("tools.apiTester.apiKey")),1)])]),"bearer"===Be.authType?(m(),s("div",Z,[r(o("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>Be.bearerToken=e),type:"text",placeholder:e.$t("tools.apiTester.tokenPlaceholder"),class:"auth-input"},null,8,ee),[[u,Be.bearerToken]])])):l("",!0),"basic"===Be.authType?(m(),s("div",ae,[r(o("input",{"onUpdate:modelValue":a[13]||(a[13]=e=>Be.basicAuth.username=e),type:"text",placeholder:e.$t("tools.apiTester.username"),class:"auth-input"},null,8,te),[[u,Be.basicAuth.username]]),r(o("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>Be.basicAuth.password=e),type:"password",placeholder:e.$t("tools.apiTester.password"),class:"auth-input"},null,8,se),[[u,Be.basicAuth.password]])])):l("",!0),"apikey"===Be.authType?(m(),s("div",oe,[r(o("input",{"onUpdate:modelValue":a[15]||(a[15]=e=>Be.apiKey.key=e),type:"text",placeholder:e.$t("tools.apiTester.keyName"),class:"auth-input"},null,8,le),[[u,Be.apiKey.key]]),r(o("input",{"onUpdate:modelValue":a[16]||(a[16]=e=>Be.apiKey.value=e),type:"text",placeholder:e.$t("tools.apiTester.keyValue"),class:"auth-input"},null,8,ne),[[u,Be.apiKey.value]]),r(o("select",{"onUpdate:modelValue":a[17]||(a[17]=e=>Be.apiKey.location=e),class:"auth-select"},[o("option",re,n(e.$t("tools.apiTester.header")),1),o("option",de,n(e.$t("tools.apiTester.queryParam")),1)],512),[[d,Be.apiKey.location]])])):l("",!0)])):l("",!0)])]),Pe.value?(m(),s("div",pe,[o("div",ue,[o("h3",null,n(e.$t("tools.apiTester.response")),1),o("div",ie,[o("span",{class:y(["status-code",(t=Pe.value.status,t>=200&&t<300?"success":t>=300&&t<400?"redirect":t>=400&&t<500?"client-error":t>=500?"server-error":"unknown")])},n(Pe.value.status),3),o("span",ce,n(Pe.value.time)+"ms",1),o("span",ye,n(ze(Pe.value.size)),1)])]),o("div",he,[(m(),s(i,null,c(Ee,a=>o("button",{key:a,class:y([{active:ge.value===a},"tab-btn"]),onClick:e=>ge.value=a},n(e.$t(`tools.apiTester.${a}`)),11,ve)),64))]),o("div",me,["body"===ge.value?(m(),s("div",be,[o("pre",Te,n(Pe.value.body),1)])):l("",!0),"headers"===ge.value?(m(),s("div",ke,[(m(!0),s(i,null,c(Pe.value.headers,(e,a)=>(m(),s("div",{key:a,class:"response-header-item"},[o("span",$e,n(a)+":",1),o("span",fe,n(e),1)]))),128))])):l("",!0)])])):l("",!0),o("div",xe,[o("h3",null,n(e.$t("tools.apiTester.savedRequests")),1),o("div",Ue,[(m(!0),s(i,null,c(Ne.value,(a,t)=>(m(),s("div",{key:t,class:"saved-request"},[o("div",Ve,[o("span",Ce,n(a.method),1),o("span",qe,n(a.name||a.url),1)]),o("div",we,[o("button",{class:"load-btn",onClick:e=>(e=>{Object.assign(Be,e)})(a)},n(e.$t("tools.apiTester.load")),9,Oe),o("button",{class:"delete-btn",onClick:e=>(e=>{Ne.value.splice(e,1)})(t)},n(e.$t("common.buttons.delete")),9,je)])]))),128))]),o("button",{class:"save-btn",onClick:He},n(e.$t("tools.apiTester.saveRequest")),1)])]);var t}}}),[["__scopeId","data-v-552a05d7"]]);export{Se as default};
