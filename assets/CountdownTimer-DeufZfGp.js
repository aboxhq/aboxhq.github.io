import{a as e,u as l,r as t,c as o,o as a,b as n,e as s,f as i,t as u,y as c,I as r,J as v,K as d,n as m,s as p,F as b,g as w,j as T}from"./vendor-sPCxxDNi.js";import{_ as h}from"./index-BFyA9hmL.js";import"./qr-DE_AbQYC.js";const $={class:"countdown-timer"},y={class:"tool-header"},k={class:"timer-container"},f={key:0,class:"timer-setup"},g={class:"time-inputs"},C={class:"input-group"},x={class:"input-group"},N={class:"input-group"},I={class:"quick-presets"},V={class:"preset-buttons"},S={class:"timer-options"},U={class:"option-group"},q=["placeholder"],_={class:"option-group"},j={class:"checkbox-label"},A={class:"option-group"},F={class:"checkbox-label"},M=["disabled"],J={key:1,class:"timer-display"},O={key:0,class:"timer-name"},P={class:"time-unit"},H={class:"time-value"},B={class:"time-label"},G={class:"time-unit"},K={class:"time-value"},R={class:"time-label"},z={class:"time-unit"},D={class:"time-value"},E={class:"time-label"},L={class:"progress-bar"},Q={class:"timer-controls"},W={key:1,class:"finished-message"},X={class:"finished-text"},Y={key:2,class:"timer-history"},Z={class:"history-list"},ee={class:"history-info"},le={class:"history-name"},te={class:"history-duration"},oe=["onClick"],ae=h(e({__name:"CountdownTimer",setup(e){const{t:h}=l(),ae=t(0),ne=t(5),se=t(0),ie=t(""),ue=t(!0),ce=t(!0),re=t(!1),ve=t(!1),de=t(!1),me=t(0),pe=t(0),be=t(null),we=t([]),Te=o(()=>ae.value>0||ne.value>0||se.value>0),he=o(()=>Math.floor(me.value/3600)),$e=o(()=>Math.floor(me.value%3600/60)),ye=o(()=>me.value%60),ke=o(()=>0===pe.value?0:(pe.value-me.value)/pe.value*100),fe=o(()=>me.value<=60&&me.value>0),ge=(e,l,t)=>{ae.value=l,ne.value=e,se.value=t},Ce=()=>{const e=3600*ae.value+60*ne.value+se.value;e<=0||(me.value=e,pe.value=e,re.value=!0,ve.value=!1,de.value=!1,_e(),ce.value&&"Notification"in window&&Notification.requestPermission(),xe())},xe=()=>{be.value=window.setInterval(()=>{me.value>0?me.value--:Ue()},1e3)},Ne=()=>{re.value=!1,ve.value=!0,be.value&&(clearInterval(be.value),be.value=null)},Ie=()=>{re.value=!0,ve.value=!1,xe()},Ve=()=>{re.value=!1,ve.value=!1,de.value=!1,be.value&&(clearInterval(be.value),be.value=null)},Se=()=>{Ve(),me.value=0,pe.value=0},Ue=()=>{re.value=!1,ve.value=!1,de.value=!0,be.value&&(clearInterval(be.value),be.value=null),ue.value&&qe(),ce.value&&"Notification"in window&&"granted"===Notification.permission&&new Notification(h("tools.countdownTimer.timerFinished"),{body:ie.value?h("tools.countdownTimer.namedTimerFinished",{name:ie.value}):h("tools.countdownTimer.timerFinishedBody"),icon:"/favicon.ico"})},qe=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),l=e.createOscillator(),t=e.createGain();l.connect(t),t.connect(e.destination),l.frequency.value=800,l.type="sine",t.gain.setValueAtTime(.3,e.currentTime),t.gain.exponentialRampToValueAtTime(.01,e.currentTime+1),l.start(e.currentTime),l.stop(e.currentTime+1)}catch(e){}},_e=()=>{const e={name:ie.value,duration:pe.value,hours:ae.value,minutes:ne.value,seconds:se.value};we.value.unshift(e),we.value.length>5&&we.value.pop(),localStorage.setItem("countdownTimerHistory",JSON.stringify(we.value))},je=e=>e.toString().padStart(2,"0"),Ae=e=>{const l=Math.floor(e/3600),t=Math.floor(e%3600/60),o=e%60;return l>0?`${l}h ${t}m ${o}s`:t>0?`${t}m ${o}s`:`${o}s`};return a(()=>{const e=localStorage.getItem("countdownTimerHistory");if(e)try{we.value=JSON.parse(e)}catch(l){}}),n(()=>{be.value&&clearInterval(be.value)}),(e,l)=>(T(),s("div",$,[i("div",y,[i("h1",null,u(e.$t("tools.countdownTimer.title")),1),i("p",null,u(e.$t("tools.countdownTimer.description")),1)]),i("div",k,[re.value||ve.value?c("",!0):(T(),s("div",f,[i("h3",null,u(e.$t("tools.countdownTimer.setTimer")),1),i("div",g,[i("div",C,[i("label",null,u(e.$t("tools.countdownTimer.hours")),1),r(i("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>ae.value=e),type:"number",min:"0",max:"23",class:"time-input"},null,512),[[v,ae.value,void 0,{number:!0}]])]),i("div",x,[i("label",null,u(e.$t("tools.countdownTimer.minutes")),1),r(i("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>ne.value=e),type:"number",min:"0",max:"59",class:"time-input"},null,512),[[v,ne.value,void 0,{number:!0}]])]),i("div",N,[i("label",null,u(e.$t("tools.countdownTimer.seconds")),1),r(i("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>se.value=e),type:"number",min:"0",max:"59",class:"time-input"},null,512),[[v,se.value,void 0,{number:!0}]])])]),i("div",I,[i("h4",null,u(e.$t("tools.countdownTimer.quickPresets")),1),i("div",V,[i("button",{class:"preset-btn",onClick:l[3]||(l[3]=e=>ge(5,0,0))}," 5 "+u(e.$t("tools.countdownTimer.min")),1),i("button",{class:"preset-btn",onClick:l[4]||(l[4]=e=>ge(10,0,0))}," 10 "+u(e.$t("tools.countdownTimer.min")),1),i("button",{class:"preset-btn",onClick:l[5]||(l[5]=e=>ge(15,0,0))}," 15 "+u(e.$t("tools.countdownTimer.min")),1),i("button",{class:"preset-btn",onClick:l[6]||(l[6]=e=>ge(30,0,0))}," 30 "+u(e.$t("tools.countdownTimer.min")),1),i("button",{class:"preset-btn",onClick:l[7]||(l[7]=e=>ge(0,1,0))}," 1 "+u(e.$t("tools.countdownTimer.hour")),1),i("button",{class:"preset-btn",onClick:l[8]||(l[8]=e=>ge(0,2,0))}," 2 "+u(e.$t("tools.countdownTimer.hours")),1)])]),i("div",S,[i("div",U,[i("label",null,u(e.$t("tools.countdownTimer.timerName")),1),r(i("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>ie.value=e),type:"text",placeholder:e.$t("tools.countdownTimer.timerNamePlaceholder"),class:"name-input"},null,8,q),[[v,ie.value]])]),i("div",_,[i("label",j,[r(i("input",{"onUpdate:modelValue":l[10]||(l[10]=e=>ue.value=e),type:"checkbox"},null,512),[[d,ue.value]]),i("span",null,u(e.$t("tools.countdownTimer.playSound")),1)])]),i("div",A,[i("label",F,[r(i("input",{"onUpdate:modelValue":l[11]||(l[11]=e=>ce.value=e),type:"checkbox"},null,512),[[d,ce.value]]),i("span",null,u(e.$t("tools.countdownTimer.showNotification")),1)])])]),i("button",{disabled:!Te.value,class:"start-btn",onClick:Ce},u(e.$t("tools.countdownTimer.start")),9,M)])),re.value||ve.value||de.value?(T(),s("div",J,[ie.value?(T(),s("div",O,u(ie.value),1)):c("",!0),i("div",{class:m(["time-display",{finished:de.value,warning:fe.value}])},[i("div",P,[i("div",H,u(je(he.value)),1),i("div",B,u(e.$t("tools.countdownTimer.hours")),1)]),l[12]||(l[12]=i("div",{class:"time-separator"}," : ",-1)),i("div",G,[i("div",K,u(je($e.value)),1),i("div",R,u(e.$t("tools.countdownTimer.minutes")),1)]),l[13]||(l[13]=i("div",{class:"time-separator"}," : ",-1)),i("div",z,[i("div",D,u(je(ye.value)),1),i("div",E,u(e.$t("tools.countdownTimer.seconds")),1)])],2),i("div",L,[i("div",{class:"progress-fill",style:p({width:`${ke.value}%`})},null,4)]),i("div",Q,[re.value?(T(),s("button",{key:0,class:"control-btn pause",onClick:Ne},u(e.$t("tools.countdownTimer.pause")),1)):c("",!0),ve.value?(T(),s("button",{key:1,class:"control-btn resume",onClick:Ie},u(e.$t("tools.countdownTimer.resume")),1)):c("",!0),i("button",{class:"control-btn stop",onClick:Ve},u(e.$t("tools.countdownTimer.stop")),1),i("button",{class:"control-btn reset",onClick:Se},u(e.$t("tools.countdownTimer.reset")),1)]),de.value?(T(),s("div",W,[l[14]||(l[14]=i("div",{class:"finished-icon"}," ðŸŽ‰ ",-1)),i("div",X,u(e.$t("tools.countdownTimer.timeUp")),1)])):c("",!0)])):c("",!0),we.value.length>0?(T(),s("div",Y,[i("h3",null,u(e.$t("tools.countdownTimer.recentTimers")),1),i("div",Z,[(T(!0),s(b,null,w(we.value,(l,t)=>(T(),s("div",{key:t,class:"history-item"},[i("div",ee,[i("div",le,u(l.name||e.$t("tools.countdownTimer.unnamed")),1),i("div",te,u(Ae(l.duration)),1)]),i("button",{class:"load-btn",onClick:e=>(e=>{re.value||ve.value||(ae.value=e.hours,ne.value=e.minutes,se.value=e.seconds,ie.value=e.name)})(l)},u(e.$t("tools.countdownTimer.load")),9,oe)]))),128))])])):c("",!0)])]))}}),[["__scopeId","data-v-2ec0873c"]]);export{ae as default};
