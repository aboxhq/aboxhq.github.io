const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/html2pdf-CammjAMv.js","assets/utils-CpTIjOSr.js","assets/qr-DE_AbQYC.js","assets/jspdf.es.min-D6OEo70k.js","assets/browser-ti7604_i.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./qr-DE_AbQYC.js";import{a as l,u as t,r as a,c as o,o as n,e as i,f as s,t as r,I as c,J as u,N as v,k as p,F as d,g as m,y as f,j as y}from"./vendor-GAldOsJ5.js";import{s as h}from"./toast-NJcpvA0I.js";import{_ as $}from"./index-CE9ZUSgX.js";const G={class:"tool-container"},b={class:"tool-header"},g={class:"tool-content"},D={class:"invoice-builder"},w={class:"invoice-form"},U={class:"form-section"},x={class:"form-grid"},V={class:"input-group"},P=["placeholder"],S={class:"input-group"},N=["placeholder"],I={class:"input-group"},k=["placeholder"],q={class:"input-group"},A=["placeholder"],_={class:"form-section"},C={class:"form-grid"},E={class:"input-group"},j=["placeholder"],T={class:"input-group"},Y=["placeholder"],J={class:"input-group"},F=["placeholder"],O={class:"input-group"},R=["placeholder"],B={class:"form-section"},M={class:"form-grid"},L={class:"input-group"},z=["placeholder"],H={class:"input-group"},K={class:"input-group"},Q={class:"input-group"},W={class:"form-section"},X={class:"items-list"},Z={class:"item-input"},ee=["onUpdate:modelValue","placeholder"],le={class:"item-input"},te=["onUpdate:modelValue","placeholder"],ae={class:"item-input"},oe=["onUpdate:modelValue","placeholder"],ne={class:"item-total"},ie=["onClick"],se={class:"form-section"},re={class:"tax-inputs"},ce={class:"input-group"},ue={class:"input-group"},ve={class:"form-section"},pe=["placeholder"],de={class:"form-actions"},me={class:"invoice-preview"},fe={class:"invoice-header"},ye={class:"company-info"},he={class:"address"},$e={class:"invoice-title"},Ge={class:"invoice-details"},be={class:"bill-to"},ge={class:"address"},De={class:"invoice-meta"},we={class:"meta-row"},Ue={class:"meta-row"},xe={class:"meta-row"},Ve={class:"invoice-items"},Pe={class:"items-table"},Se={class:"invoice-totals"},Ne={class:"totals-section"},Ie={class:"total-row"},ke={key:0,class:"total-row"},qe={key:1,class:"total-row"},Ae={class:"total-row total-final"},_e={key:0,class:"invoice-notes"},Ce=$(l({__name:"InvoiceGenerator",setup(l){const{t:$}=t(),Ce=a({company:{name:"",email:"",phone:"",address:""},client:{name:"",email:"",phone:"",address:""},details:{number:"",issueDate:"",dueDate:"",currency:"USD"},items:[{description:"",quantity:1,rate:0}],tax:{rate:0},discount:0,notes:""}),Ee=a(),je=o(()=>Ce.value.items.reduce((e,l)=>e+(l.quantity||0)*(l.rate||0),0)),Te=o(()=>je.value*(Ce.value.discount/100)),Ye=o(()=>je.value-Te.value),Je=o(()=>Ye.value*(Ce.value.tax.rate/100)),Fe=o(()=>Ye.value+Je.value),Oe=()=>{Ce.value.items.push({description:"",quantity:1,rate:0})},Re=e=>`${{USD:"$",EUR:"€",GBP:"£",JPY:"¥",CNY:"¥",CAD:"$",AUD:"$"}[Ce.value.details.currency]||"$"}${e.toFixed(2)}`,Be=e=>e?new Date(e).toLocaleDateString():"",Me=()=>{const e={company:Ce.value.company,tax:Ce.value.tax,currency:Ce.value.details.currency};localStorage.setItem("invoiceTemplate",JSON.stringify(e)),h.success($("tools.invoiceGenerator.messages.templateSaved"))},Le=async()=>{try{const l=(await e(async()=>{const{default:e}=await import("./html2pdf-CammjAMv.js").then(e=>e.h);return{default:e}},__vite__mapDeps([0,1,2,3,4]))).default,t=Ee.value;if(!t)return;const a={margin:1,filename:`invoice-${Ce.value.details.number||"draft"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};await l().set(a).from(t).save(),h.success($("tools.invoiceGenerator.messages.pdfGenerated"))}catch(l){h.error($("tools.invoiceGenerator.messages.pdfError"))}};return n(()=>{Ce.value.details.number=(()=>{const e=new Date;return`INV-${e.getFullYear()}${String(e.getMonth()+1).padStart(2,"0")}${String(e.getDate()).padStart(2,"0")}-${Math.floor(1e3*Math.random()).toString().padStart(3,"0")}`})(),(()=>{const e=new Date,l=new Date(e);l.setDate(e.getDate()+30),Ce.value.details.issueDate=e.toISOString().split("T")[0],Ce.value.details.dueDate=l.toISOString().split("T")[0]})(),(()=>{const e=localStorage.getItem("invoiceTemplate");if(e){const l=JSON.parse(e);Ce.value.company={...Ce.value.company,...l.company},Ce.value.tax={...Ce.value.tax,...l.tax},Ce.value.details.currency=l.currency||"USD"}})()}),(e,l)=>(y(),i("div",G,[s("div",b,[s("h1",null,r(e.$t("tools.invoiceGenerator.title")),1),s("p",null,r(e.$t("tools.invoiceGenerator.description")),1)]),s("div",g,[s("div",D,[s("div",w,[s("h3",null,r(e.$t("tools.invoiceGenerator.form.title")),1),s("div",U,[s("h4",null,r(e.$t("tools.invoiceGenerator.form.companyInfo")),1),s("div",x,[s("div",V,[s("label",null,r(e.$t("tools.invoiceGenerator.form.companyName")),1),c(s("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>Ce.value.company.name=e),type:"text",placeholder:e.$t("tools.invoiceGenerator.form.companyNamePlaceholder"),class:"form-input"},null,8,P),[[u,Ce.value.company.name]])]),s("div",S,[s("label",null,r(e.$t("tools.invoiceGenerator.form.companyEmail")),1),c(s("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>Ce.value.company.email=e),type:"email",placeholder:e.$t("tools.invoiceGenerator.form.companyEmailPlaceholder"),class:"form-input"},null,8,N),[[u,Ce.value.company.email]])]),s("div",I,[s("label",null,r(e.$t("tools.invoiceGenerator.form.companyPhone")),1),c(s("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>Ce.value.company.phone=e),type:"tel",placeholder:e.$t("tools.invoiceGenerator.form.companyPhonePlaceholder"),class:"form-input"},null,8,k),[[u,Ce.value.company.phone]])]),s("div",q,[s("label",null,r(e.$t("tools.invoiceGenerator.form.companyAddress")),1),c(s("textarea",{"onUpdate:modelValue":l[3]||(l[3]=e=>Ce.value.company.address=e),placeholder:e.$t("tools.invoiceGenerator.form.companyAddressPlaceholder"),class:"form-textarea",rows:"3"},null,8,A),[[u,Ce.value.company.address]])])])]),s("div",_,[s("h4",null,r(e.$t("tools.invoiceGenerator.form.clientInfo")),1),s("div",C,[s("div",E,[s("label",null,r(e.$t("tools.invoiceGenerator.form.clientName")),1),c(s("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>Ce.value.client.name=e),type:"text",placeholder:e.$t("tools.invoiceGenerator.form.clientNamePlaceholder"),class:"form-input"},null,8,j),[[u,Ce.value.client.name]])]),s("div",T,[s("label",null,r(e.$t("tools.invoiceGenerator.form.clientEmail")),1),c(s("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>Ce.value.client.email=e),type:"email",placeholder:e.$t("tools.invoiceGenerator.form.clientEmailPlaceholder"),class:"form-input"},null,8,Y),[[u,Ce.value.client.email]])]),s("div",J,[s("label",null,r(e.$t("tools.invoiceGenerator.form.clientPhone")),1),c(s("input",{"onUpdate:modelValue":l[6]||(l[6]=e=>Ce.value.client.phone=e),type:"tel",placeholder:e.$t("tools.invoiceGenerator.form.clientPhonePlaceholder"),class:"form-input"},null,8,F),[[u,Ce.value.client.phone]])]),s("div",O,[s("label",null,r(e.$t("tools.invoiceGenerator.form.clientAddress")),1),c(s("textarea",{"onUpdate:modelValue":l[7]||(l[7]=e=>Ce.value.client.address=e),placeholder:e.$t("tools.invoiceGenerator.form.clientAddressPlaceholder"),class:"form-textarea",rows:"3"},null,8,R),[[u,Ce.value.client.address]])])])]),s("div",B,[s("h4",null,r(e.$t("tools.invoiceGenerator.form.invoiceDetails")),1),s("div",M,[s("div",L,[s("label",null,r(e.$t("tools.invoiceGenerator.form.invoiceNumber")),1),c(s("input",{"onUpdate:modelValue":l[8]||(l[8]=e=>Ce.value.details.number=e),type:"text",placeholder:e.$t("tools.invoiceGenerator.form.invoiceNumberPlaceholder"),class:"form-input"},null,8,z),[[u,Ce.value.details.number]])]),s("div",H,[s("label",null,r(e.$t("tools.invoiceGenerator.form.issueDate")),1),c(s("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>Ce.value.details.issueDate=e),type:"date",class:"form-input"},null,512),[[u,Ce.value.details.issueDate]])]),s("div",K,[s("label",null,r(e.$t("tools.invoiceGenerator.form.dueDate")),1),c(s("input",{"onUpdate:modelValue":l[10]||(l[10]=e=>Ce.value.details.dueDate=e),type:"date",class:"form-input"},null,512),[[u,Ce.value.details.dueDate]])]),s("div",Q,[s("label",null,r(e.$t("tools.invoiceGenerator.form.currency")),1),c(s("select",{"onUpdate:modelValue":l[11]||(l[11]=e=>Ce.value.details.currency=e),class:"form-select"},[...l[15]||(l[15]=[p('<option value="USD" data-v-88a8680c> USD ($) </option><option value="EUR" data-v-88a8680c> EUR (€) </option><option value="GBP" data-v-88a8680c> GBP (£) </option><option value="JPY" data-v-88a8680c> JPY (¥) </option><option value="CNY" data-v-88a8680c> CNY (¥) </option><option value="CAD" data-v-88a8680c> CAD ($) </option><option value="AUD" data-v-88a8680c> AUD ($) </option>',7)])],512),[[v,Ce.value.details.currency]])])])]),s("div",W,[s("h4",null,r(e.$t("tools.invoiceGenerator.form.items")),1),s("div",X,[(y(!0),i(d,null,m(Ce.value.items,(l,t)=>(y(),i("div",{key:t,class:"item-row"},[s("div",Z,[c(s("input",{"onUpdate:modelValue":e=>l.description=e,type:"text",placeholder:e.$t("tools.invoiceGenerator.form.itemDescription"),class:"form-input"},null,8,ee),[[u,l.description]])]),s("div",le,[c(s("input",{"onUpdate:modelValue":e=>l.quantity=e,type:"number",placeholder:e.$t("tools.invoiceGenerator.form.quantity"),class:"form-input",min:"0",step:"0.01"},null,8,te),[[u,l.quantity,void 0,{number:!0}]])]),s("div",ae,[c(s("input",{"onUpdate:modelValue":e=>l.rate=e,type:"number",placeholder:e.$t("tools.invoiceGenerator.form.rate"),class:"form-input",min:"0",step:"0.01"},null,8,oe),[[u,l.rate,void 0,{number:!0}]])]),s("div",ne,r(Re(l.quantity*l.rate)),1),s("button",{class:"remove-btn",onClick:e=>(e=>{Ce.value.items.length>1&&Ce.value.items.splice(e,1)})(t)}," × ",8,ie)]))),128))]),s("button",{class:"btn btn-secondary",onClick:Oe},r(e.$t("tools.invoiceGenerator.form.addItem")),1)]),s("div",se,[s("h4",null,r(e.$t("tools.invoiceGenerator.form.taxAndTotals")),1),s("div",re,[s("div",ce,[s("label",null,r(e.$t("tools.invoiceGenerator.form.taxRate"))+" (%)",1),c(s("input",{"onUpdate:modelValue":l[12]||(l[12]=e=>Ce.value.tax.rate=e),type:"number",class:"form-input",min:"0",max:"100",step:"0.01"},null,512),[[u,Ce.value.tax.rate,void 0,{number:!0}]])]),s("div",ue,[s("label",null,r(e.$t("tools.invoiceGenerator.form.discount"))+" (%)",1),c(s("input",{"onUpdate:modelValue":l[13]||(l[13]=e=>Ce.value.discount=e),type:"number",class:"form-input",min:"0",max:"100",step:"0.01"},null,512),[[u,Ce.value.discount,void 0,{number:!0}]])])])]),s("div",ve,[s("h4",null,r(e.$t("tools.invoiceGenerator.form.notes")),1),c(s("textarea",{"onUpdate:modelValue":l[14]||(l[14]=e=>Ce.value.notes=e),placeholder:e.$t("tools.invoiceGenerator.form.notesPlaceholder"),class:"form-textarea",rows:"4"},null,8,pe),[[u,Ce.value.notes]])]),s("div",de,[s("button",{class:"btn btn-secondary",onClick:Me},r(e.$t("tools.invoiceGenerator.form.saveTemplate")),1),s("button",{class:"btn btn-primary",onClick:Le},r(e.$t("tools.invoiceGenerator.form.generatePDF")),1)])]),s("div",me,[s("h3",null,r(e.$t("tools.invoiceGenerator.preview.title")),1),s("div",{ref_key:"invoiceDocument",ref:Ee,class:"invoice-document"},[s("div",fe,[s("div",ye,[s("h2",null,r(Ce.value.company.name||e.$t("tools.invoiceGenerator.preview.companyName")),1),s("p",null,r(Ce.value.company.email),1),s("p",null,r(Ce.value.company.phone),1),s("p",he,r(Ce.value.company.address),1)]),s("div",$e,[s("h1",null,r(e.$t("tools.invoiceGenerator.preview.invoice")),1),s("p",null,r(e.$t("tools.invoiceGenerator.preview.invoiceNumber"))+": "+r(Ce.value.details.number||"INV-001"),1)])]),s("div",Ge,[s("div",be,[s("h4",null,r(e.$t("tools.invoiceGenerator.preview.billTo")),1),s("p",null,[s("strong",null,r(Ce.value.client.name||e.$t("tools.invoiceGenerator.preview.clientName")),1)]),s("p",null,r(Ce.value.client.email),1),s("p",null,r(Ce.value.client.phone),1),s("p",ge,r(Ce.value.client.address),1)]),s("div",De,[s("div",we,[s("span",null,r(e.$t("tools.invoiceGenerator.preview.issueDate"))+":",1),s("span",null,r(Be(Ce.value.details.issueDate)),1)]),s("div",Ue,[s("span",null,r(e.$t("tools.invoiceGenerator.preview.dueDate"))+":",1),s("span",null,r(Be(Ce.value.details.dueDate)),1)]),s("div",xe,[s("span",null,r(e.$t("tools.invoiceGenerator.preview.currency"))+":",1),s("span",null,r(Ce.value.details.currency),1)])])]),s("div",Ve,[s("table",Pe,[s("thead",null,[s("tr",null,[s("th",null,r(e.$t("tools.invoiceGenerator.preview.description")),1),s("th",null,r(e.$t("tools.invoiceGenerator.preview.quantity")),1),s("th",null,r(e.$t("tools.invoiceGenerator.preview.rate")),1),s("th",null,r(e.$t("tools.invoiceGenerator.preview.amount")),1)])]),s("tbody",null,[(y(!0),i(d,null,m(Ce.value.items,(l,t)=>(y(),i("tr",{key:t},[s("td",null,r(l.description||e.$t("tools.invoiceGenerator.preview.sampleItem")),1),s("td",null,r(l.quantity||1),1),s("td",null,r(Re(l.rate||0)),1),s("td",null,r(Re((l.quantity||1)*(l.rate||0))),1)]))),128))])])]),s("div",Se,[s("div",Ne,[s("div",Ie,[s("span",null,r(e.$t("tools.invoiceGenerator.preview.subtotal"))+":",1),s("span",null,r(Re(je.value)),1)]),Ce.value.discount>0?(y(),i("div",ke,[s("span",null,r(e.$t("tools.invoiceGenerator.preview.discount"))+" ("+r(Ce.value.discount)+"%):",1),s("span",null,"-"+r(Re(Te.value)),1)])):f("",!0),Ce.value.tax.rate>0?(y(),i("div",qe,[s("span",null,r(e.$t("tools.invoiceGenerator.preview.tax"))+" ("+r(Ce.value.tax.rate)+"%):",1),s("span",null,r(Re(Je.value)),1)])):f("",!0),s("div",Ae,[s("span",null,r(e.$t("tools.invoiceGenerator.preview.total"))+":",1),s("span",null,r(Re(Fe.value)),1)])])]),Ce.value.notes?(y(),i("div",_e,[s("h4",null,r(e.$t("tools.invoiceGenerator.preview.notes")),1),s("p",null,r(Ce.value.notes),1)])):f("",!0)],512)])])])]))}}),[["__scopeId","data-v-88a8680c"]]);export{Ce as default};
