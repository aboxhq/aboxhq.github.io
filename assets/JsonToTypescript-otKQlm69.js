import{a as e,u as t,r as o,w as a,e as l,f as n,t as s,I as r,J as i,K as c,y as p,F as u,g as d,j as v}from"./vendor-sPCxxDNi.js";import{_ as f}from"./index-BFyA9hmL.js";import"./qr-DE_AbQYC.js";const y={class:"json-to-typescript"},h={class:"tool-header"},m={class:"tool-description"},b={class:"converter-container"},$={class:"options-bar"},T={class:"option-group"},j={class:"option-group"},g={class:"checkbox-label"},x={class:"option-group"},k={class:"checkbox-label"},w={class:"option-group"},A={class:"checkbox-label"},C={class:"editor-panels"},N={class:"panel"},I={class:"panel-header"},U={class:"panel-actions"},J=["title"],O=["title"],S=["title"],M=["placeholder"],P={key:0,class:"error-message"},V={class:"panel"},R={class:"panel-header"},_={class:"panel-actions"},B=["title"],E=["title"],L=["placeholder"],z={class:"samples-section"},H={class:"samples-label"},Z=["onClick"],q=f(e({__name:"JsonToTypescript",setup(e){const{t:f}=t(),q=o(""),D=o(""),F=o(""),K=o({rootName:"RootObject",useInterface:!0,optionalProperties:!1,addExport:!0}),G=[{name:"User",data:JSON.stringify({id:1,name:"John Doe",email:"john@example.com",age:30,isActive:!0,roles:["admin","user"],profile:{avatar:"https://example.com/avatar.jpg",bio:"Software developer"}},null,2)},{name:"API Response",data:JSON.stringify({success:!0,data:{items:[{id:1,title:"Item 1",price:9.99},{id:2,title:"Item 2",price:19.99}],total:2,page:1,pageSize:10},message:null},null,2)},{name:"Config",data:JSON.stringify({appName:"MyApp",version:"1.0.0",settings:{theme:"dark",language:"en",notifications:{email:!0,push:!1}},features:["feature1","feature2"]},null,2)}];function Q(){if(!q.value.trim())return D.value="",void(F.value="");try{const e=JSON.parse(q.value);F.value="",D.value=W(e,K.value.rootName)}catch(e){F.value=f("tools.jsonToTypescript.invalidJson"),D.value=""}}function W(e,t,o=0){const a=[],l="  ".repeat(o),n=K.value.useInterface?"interface":"type",s=K.value.addExport?"export ":"",r=K.value.optionalProperties?"?":"";function i(e,t,o){if(null===e)return"null";if(void 0===e)return"undefined";const l=typeof e;if("string"===l)return"string";if("number"===l)return"number";if("boolean"===l)return"boolean";if(Array.isArray(e)){if(0===e.length)return"unknown[]";const o=new Set;let l=!1,n=null;for(const a of e)"object"!=typeof a||null===a||Array.isArray(a)?o.add(i(a,t)):(l=!0,n||(n=a));if(l&&n){const e=c(t)+"Item",l=W(n,e,0);a.includes(l)||a.push(l),o.add(e)}const s=Array.from(o);return 1===s.length?`${s[0]}[]`:`(${s.join(" | ")})[]`}if("object"===l){const o=c(t),l=W(e,o,0);return a.includes(l)||a.push(l),o}return"unknown"}function c(e){return e.replace(/[^a-zA-Z0-9]+(.)/g,(e,t)=>t.toUpperCase()).replace(/^./,e=>e.toUpperCase())}let p="";if("object"!=typeof e||null===e||Array.isArray(e))if(Array.isArray(e)){p=`${s}type ${t} = ${i(e,t)};`}else{p=`${s}type ${t} = ${i(e,t)};`}else{const o=[],a=e;for(const[e,t]of Object.entries(a)){const a=i(t,e),n=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(e)?e:`'${e}'`;o.push(`${l}  ${n}${r}: ${a};`)}p=K.value.useInterface?`${s}${n} ${t} {\n${o.join("\n")}\n${l}}`:`${s}${n} ${t} = {\n${o.join("\n")}\n${l}};`}return[...a,p].join("\n\n")}function X(){try{const e=JSON.parse(q.value);q.value=JSON.stringify(e,null,2),F.value=""}catch{F.value=f("tools.jsonToTypescript.invalidJson")}}function Y(){q.value="",D.value="",F.value=""}async function ee(){try{const e=await navigator.clipboard.readText();q.value=e,Q()}catch{}}async function te(){D.value&&await navigator.clipboard.writeText(D.value)}function oe(){if(!D.value)return;const e=new Blob([D.value],{type:"text/typescript"}),t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download=`${K.value.rootName||"types"}.ts`,o.click(),URL.revokeObjectURL(t)}return a(K,Q,{deep:!0}),(e,t)=>(v(),l("div",y,[n("div",h,[n("h1",null,s(e.$t("tools.jsonToTypescript.title")),1),n("p",m,s(e.$t("tools.jsonToTypescript.description")),1)]),n("div",b,[n("div",$,[n("div",T,[n("label",null,s(e.$t("tools.jsonToTypescript.rootName")),1),r(n("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>K.value.rootName=e),type:"text",class:"option-input",placeholder:"RootObject"},null,512),[[i,K.value.rootName]])]),n("div",j,[n("label",g,[r(n("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>K.value.useInterface=e),type:"checkbox"},null,512),[[c,K.value.useInterface]]),n("span",null,s(e.$t("tools.jsonToTypescript.useInterface")),1)])]),n("div",x,[n("label",k,[r(n("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>K.value.optionalProperties=e),type:"checkbox"},null,512),[[c,K.value.optionalProperties]]),n("span",null,s(e.$t("tools.jsonToTypescript.optionalProperties")),1)])]),n("div",w,[n("label",A,[r(n("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>K.value.addExport=e),type:"checkbox"},null,512),[[c,K.value.addExport]]),n("span",null,s(e.$t("tools.jsonToTypescript.addExport")),1)])])]),n("div",C,[n("div",N,[n("div",I,[t[9]||(t[9]=n("span",null,"JSON",-1)),n("div",U,[n("button",{class:"action-btn",title:e.$t("tools.jsonToTypescript.format"),onClick:X},t[6]||(t[6]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M4 6h16M4 12h16M4 18h16"})],-1)]),8,J),n("button",{class:"action-btn",title:e.$t("tools.jsonToTypescript.clear"),onClick:Y},t[7]||(t[7]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]),8,O),n("button",{class:"action-btn",title:e.$t("tools.jsonToTypescript.paste"),onClick:ee},t[8]||(t[8]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),n("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)]),8,S)])]),r(n("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>q.value=e),class:"code-editor",placeholder:e.$t("tools.jsonToTypescript.jsonPlaceholder"),spellcheck:"false",onInput:Q},null,40,M),[[i,q.value]]),F.value?(v(),l("div",P,s(F.value),1)):p("",!0)]),n("div",V,[n("div",R,[t[12]||(t[12]=n("span",null,"TypeScript",-1)),n("div",_,[n("button",{class:"action-btn",title:e.$t("tools.jsonToTypescript.copy"),onClick:te},t[10]||(t[10]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),n("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)]),8,B),n("button",{class:"action-btn",title:e.$t("tools.jsonToTypescript.download"),onClick:oe},t[11]||(t[11]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n("polyline",{points:"7,10 12,15 17,10"}),n("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)]),8,E)])]),r(n("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>D.value=e),class:"code-editor output",readonly:"",placeholder:e.$t("tools.jsonToTypescript.outputPlaceholder"),spellcheck:"false"},null,8,L),[[i,D.value]])])]),n("div",z,[n("span",H,s(e.$t("tools.jsonToTypescript.samples"))+":",1),(v(),l(u,null,d(G,e=>n("button",{key:e.name,class:"sample-btn",onClick:t=>{return o=e.data,q.value=o,void Q();var o}},s(e.name),9,Z)),64))])])]))}}),[["__scopeId","data-v-cfb4aa40"]]);export{q as default};
