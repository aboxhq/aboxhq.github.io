import{a,u as t,r as s,c as e,e as l,f as n,t as o,I as c,y as r,J as i,N as u,q as p,K as v,k as d,j as b}from"./vendor-GAldOsJ5.js";import{_ as m}from"./index-vCRZDDw7.js";import"./qr-DE_AbQYC.js";const y={class:"json-formatter"},h={class:"tool-header"},f={class:"tool-description"},j={class:"tool-content"},g={class:"formatter-layout"},$={class:"input-section"},x={class:"section-header"},k={class:"input-actions"},F=["placeholder"],O={key:0,class:"validation-error"},w={key:1,class:"validation-success"},C={class:"controls-section"},J={class:"format-options"},S={class:"option-group"},N={class:"option-label"},M={value:"2"},E={value:"4"},U={value:"tab"},B={class:"option-group"},V={class:"checkbox-label"},z={class:"action-buttons"},A=["disabled"],L=["disabled"],I={class:"output-section"},_={class:"section-header"},H={class:"output-actions"},R=["disabled"],T=["disabled"],q={class:"output-container"},K={key:0,class:"output-header"},P=["innerHTML"],D=["placeholder"],Y={key:0,class:"json-stats"},G={class:"stats-grid"},Q={class:"stat-item"},W={class:"stat-label"},X={class:"stat-value"},Z={class:"stat-item"},aa={class:"stat-label"},ta={class:"stat-value"},sa={class:"stat-item"},ea={class:"stat-label"},la={class:"stat-value"},na={class:"stat-item"},oa={class:"stat-label"},ca={class:"stat-value"},ra={class:"stat-item"},ia={class:"stat-label"},ua={class:"stat-value"},pa={class:"stat-item"},va={class:"stat-label"},da={class:"stat-value"},ba=m(a({__name:"JSONFormatter",setup(a){const{t:m}=t(),ba=s(""),ma=s(""),ya=s(""),ha=s("2"),fa=s(!1),ja=e(()=>ba.value.trim()&&!ya.value),ga=e(()=>{if(!ma.value||"JSON is valid ✓"===ma.value||ya.value||0===ma.value.trim().length)return null;try{return JSON.parse(ma.value),(a=>{let t=a;return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/("(?:[^"\\]|\\.)*")\s*:/g,'<span class="json-key">$1</span>:').replace(/:\s*("(?:[^"\\]|\\.)*")/g,': <span class="json-string">$1</span>').replace(/:\s*(-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)/g,': <span class="json-number">$1</span>').replace(/:\s*(true|false|null)\b/g,': <span class="json-literal">$1</span>').replace(/,\s*("(?:[^"\\]|\\.)*")/g,', <span class="json-string">$1</span>').replace(/\[\s*("(?:[^"\\]|\\.)*")/g,'[<span class="json-string">$1</span>').replace(/,\s*(-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)/g,', <span class="json-number">$1</span>').replace(/\[\s*(-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)/g,'[<span class="json-number">$1</span>').replace(/,\s*(true|false|null)\b/g,', <span class="json-literal">$1</span>').replace(/\[\s*(true|false|null)\b/g,'[<span class="json-literal">$1</span>').replace(/([{}[\],])/g,'<span class="json-punctuation">$1</span>'),t})(ma.value)}catch(a){return null}}),$a=e(()=>{if(!ma.value)return null;try{const a=JSON.parse(ma.value);return xa(a,ma.value)}catch{return null}}),xa=(a,t)=>{let s=0,e=0,l=0,n=0;const o=(a,t=0)=>{n=Math.max(n,t),Array.isArray(a)?(e++,a.forEach(a=>o(a,t+1))):a&&"object"==typeof a&&(s++,Object.keys(a).forEach(s=>{l++,o(a[s],t+1)}))};return o(a),{size:new Blob([t]).size,lines:t.split("\n").length,objects:s,arrays:e,properties:l,depth:n}},ka=()=>{if(ya.value="",ba.value.trim())try{JSON.parse(ba.value)}catch(a){ya.value=a instanceof Error?a.message:"Invalid JSON"}},Fa=()=>{if(ja.value)try{const a=JSON.parse(ba.value);let t=a;fa.value&&(t=Ca(a));const s="tab"===ha.value?"\t":parseInt(ha.value);ma.value=JSON.stringify(t,null,s)}catch(a){ya.value=a instanceof Error?a.message:"Failed to format JSON"}},Oa=()=>{if(ja.value)try{const a=JSON.parse(ba.value);ma.value=JSON.stringify(a)}catch(a){ya.value=a instanceof Error?a.message:"Failed to minify JSON"}},wa=()=>{ka(),!ya.value&&ba.value.trim()&&(ma.value="JSON is valid ✓")},Ca=a=>{if(Array.isArray(a))return a.map(Ca);if(a&&"object"==typeof a){const t={};return Object.keys(a).sort().forEach(s=>{t[s]=Ca(a[s])}),t}return a},Ja=()=>{ba.value="",ya.value=""},Sa=()=>{ma.value=""},Na=async()=>{try{await navigator.clipboard.writeText(ma.value)}catch(a){}},Ma=()=>{if(!ma.value)return;const a=new Blob([ma.value],{type:"application/json"}),t=URL.createObjectURL(a),s=document.createElement("a");s.download="formatted.json",s.href=t,s.click(),URL.revokeObjectURL(t)},Ea=async()=>{try{const a=await navigator.clipboard.readText();ba.value=a,ka()}catch(a){}},Ua=()=>{ba.value='{\n  "name": "John Doe",\n  "age": 30,\n  "city": "New York",\n  "hobbies": ["reading", "swimming", "coding"],\n  "address": {\n    "street": "123 Main St",\n    "zipCode": "10001",\n    "country": "USA"\n  },\n  "isActive": true,\n  "balance": 1250.50\n}',ka()};return(a,t)=>(b(),l("div",y,[n("div",h,[n("p",f,o(a.$t("tools.jsonFormatter.description")),1)]),n("div",j,[n("div",g,[n("div",$,[n("div",x,[n("h2",null,o(a.$t("common.labels.input")),1),n("div",k,[n("button",{class:"btn btn-secondary btn-sm",onClick:Ja},o(a.$t("common.buttons.clear")),1),n("button",{class:"btn btn-secondary btn-sm",onClick:Ea},o(a.$t("common.buttons.paste")),1),n("button",{class:"btn btn-secondary btn-sm",onClick:Ua},o(a.$t("common.buttons.loadSample")),1)])]),c(n("textarea",{"onUpdate:modelValue":t[0]||(t[0]=a=>ba.value=a),placeholder:a.$t("tools.jsonFormatter.inputPlaceholder"),class:"json-textarea",rows:"15",onInput:ka},null,40,F),[[i,ba.value]]),ya.value?(b(),l("div",O,[t[4]||(t[4]=n("svg",{class:"error-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),n("line",{x1:"9",y1:"9",x2:"15",y2:"15"})],-1)),n("span",null,o(ya.value),1)])):ba.value.trim()?(b(),l("div",w,[t[5]||(t[5]=n("svg",{class:"success-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[n("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n("polyline",{points:"22,4 12,14.01 9,11.01"})],-1)),n("span",null,o(a.$t("tools.jsonFormatter.validJson")),1)])):r("",!0)]),n("div",C,[n("div",J,[n("h3",null,o(a.$t("tools.jsonFormatter.formatOptions")),1),n("div",S,[n("label",N,[n("span",null,o(a.$t("tools.jsonFormatter.indentation"))+":",1),c(n("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>ha.value=a),class:"form-select"},[n("option",M,o(a.$t("tools.jsonFormatter.spaces2")),1),n("option",E,o(a.$t("tools.jsonFormatter.spaces4")),1),n("option",U,o(a.$t("tools.jsonFormatter.tab")),1)],512),[[u,ha.value]])])]),n("div",B,[n("label",V,[c(n("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>fa.value=a),type:"checkbox"},null,512),[[v,fa.value]]),p(" "+o(a.$t("tools.jsonFormatter.sortKeys")),1)])])]),n("div",z,[n("button",{class:"btn btn-primary",disabled:!ja.value,onClick:Fa},[t[6]||(t[6]=d('<svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-v-f73ca66a><polyline points="16,3 21,3 21,8" data-v-f73ca66a></polyline><line x1="4" y1="20" x2="21" y2="3" data-v-f73ca66a></line><polyline points="21,16 21,21 16,21" data-v-f73ca66a></polyline><line x1="15" y1="15" x2="21" y2="21" data-v-f73ca66a></line><line x1="4" y1="4" x2="9" y2="9" data-v-f73ca66a></line></svg>',1)),p(" "+o(a.$t("common.actions.format")),1)],8,A),n("button",{class:"btn btn-secondary",disabled:!ja.value,onClick:Oa},[t[7]||(t[7]=d('<svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-v-f73ca66a><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-f73ca66a></path><polyline points="14,2 14,8 20,8" data-v-f73ca66a></polyline><line x1="16" y1="13" x2="8" y2="13" data-v-f73ca66a></line><line x1="16" y1="17" x2="8" y2="17" data-v-f73ca66a></line><polyline points="10,9 9,9 8,9" data-v-f73ca66a></polyline></svg>',1)),p(" "+o(a.$t("common.actions.minify")),1)],8,L),n("button",{class:"btn btn-secondary",onClick:wa},[t[8]||(t[8]=d('<svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-v-f73ca66a><path d="M9 12l2 2 4-4" data-v-f73ca66a></path><path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3" data-v-f73ca66a></path><path d="M3 12c1 0 3-1-3-3s-2-3-3-3-3 1-3 3 2 3 3 3" data-v-f73ca66a></path><path d="M13 7h6" data-v-f73ca66a></path><path d="M13 17h6" data-v-f73ca66a></path><path d="M5 7h6" data-v-f73ca66a></path><path d="M5 17h6" data-v-f73ca66a></path></svg>',1)),p(" "+o(a.$t("common.actions.validate")),1)])])]),n("div",I,[n("div",_,[n("h2",null,o(a.$t("common.labels.output")),1),n("div",H,[n("button",{class:"btn btn-primary btn-sm",disabled:!ma.value,onClick:Na},o(a.$t("common.buttons.copy")),9,R),n("button",{class:"btn btn-secondary btn-sm",disabled:!ma.value,onClick:Ma},o(a.$t("common.buttons.download")),9,T),n("button",{class:"btn btn-secondary btn-sm",onClick:Sa},o(a.$t("common.buttons.clear")),1)])]),n("div",q,[ma.value&&"JSON is valid ✓"!==ma.value?(b(),l("div",K,[n("button",{class:"btn btn-secondary btn-sm copy-btn",onClick:Na},[t[9]||(t[9]=n("svg",{class:"btn-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[n("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),n("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)),p(" "+o(a.$t("common.buttons.copy")),1)])])):r("",!0),ga.value?(b(),l("pre",{key:1,class:"json-highlighted",innerHTML:ga.value},null,8,P)):c((b(),l("textarea",{key:2,"onUpdate:modelValue":t[3]||(t[3]=a=>ma.value=a),placeholder:a.$t("tools.jsonFormatter.outputPlaceholder"),class:"json-textarea",rows:"15",readonly:""},null,8,D)),[[i,ma.value]])]),$a.value?(b(),l("div",Y,[n("div",G,[n("div",Q,[n("span",W,o(a.$t("tools.jsonFormatter.size"))+":",1),n("span",X,o($a.value.size)+" "+o(a.$t("tools.jsonFormatter.bytes")),1)]),n("div",Z,[n("span",aa,o(a.$t("tools.jsonFormatter.lines"))+":",1),n("span",ta,o($a.value.lines),1)]),n("div",sa,[n("span",ea,o(a.$t("tools.jsonFormatter.objects"))+":",1),n("span",la,o($a.value.objects),1)]),n("div",na,[n("span",oa,o(a.$t("tools.jsonFormatter.arrays"))+":",1),n("span",ca,o($a.value.arrays),1)]),n("div",ra,[n("span",ia,o(a.$t("tools.jsonFormatter.properties"))+":",1),n("span",ua,o($a.value.properties),1)]),n("div",pa,[n("span",va,o(a.$t("tools.jsonFormatter.depth"))+":",1),n("span",da,o($a.value.depth),1)])])])):r("",!0)])])])]))}}),[["__scopeId","data-v-f73ca66a"]]);export{ba as default};
