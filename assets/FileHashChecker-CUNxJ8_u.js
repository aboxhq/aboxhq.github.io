import{a as e,u as a,r as s,o as l,e as t,f as i,t as o,y as c,M as n,n as r,F as u,g as h,I as v,K as d,s as p,J as f,N as m,j as y}from"./vendor-sPCxxDNi.js";import{_ as g}from"./index-BFyA9hmL.js";import"./qr-DE_AbQYC.js";const k={class:"tool-container"},H={class:"tool-header"},b={class:"tool-content"},C={class:"upload-section"},S={key:0,class:"upload-placeholder"},$={class:"upload-text"},w={class:"upload-title"},A={class:"upload-subtitle"},x={key:1,class:"file-info"},D={class:"file-details"},L={class:"file-name"},I={class:"file-size"},M={class:"file-type"},U={key:0,class:"algorithm-section"},z={class:"algorithm-grid"},B=["value"],F={class:"algorithm-name"},T={class:"algorithm-description"},_={key:1,class:"results-section"},j={key:0,class:"calculating"},N={class:"progress-bar"},O={class:"progress-text"},V={key:1,class:"hash-results"},J={class:"hash-header"},W={class:"hash-algorithm"},G=["onClick"],K={class:"hash-value"},q={key:2,class:"verification-section"},E={class:"verification-input"},P=["placeholder"],R={value:""},Q=["value"],X={key:0,class:"verification-result"},Y={class:"status-icon"},Z={class:"status-text"},ee={class:"verification-details"},ae={class:"hash-comparison"},se={class:"expected-hash"},le={class:"actual-hash"},te={key:3,class:"history-section"},ie={class:"history-list"},oe={class:"history-info"},ce={class:"history-filename"},ne={class:"history-size"},re={class:"history-date"},ue={class:"history-hashes"},he={class:"hash-algo"},ve={class:"hash-val"},de=["onClick"],pe=["onClick"],fe={class:"info-section"},me={class:"info-grid"},ye={class:"info-details"},ge={class:"info-item"},ke={class:"info-label"},He={class:"info-value"},be={class:"info-item"},Ce={class:"info-label"},Se={class:"info-value"},$e={class:"info-item"},we={class:"info-label"},Ae={class:"info-value"},xe=g(e({__name:"FileHashChecker",setup(e){const{t:g}=a(),xe=s(null),De=s(!1),Le=s(["SHA-256"]),Ie=s([]),Me=s(!1),Ue=s(0),ze=s(""),Be=s(""),Fe=s(""),Te=s(null),_e=s([]),je=s(),Ne=[{name:"MD5",description:"128-bit hash (legacy)",fullDescription:"MD5 is a widely used cryptographic hash function that produces a 128-bit hash value. While fast, it is considered cryptographically broken and unsuitable for security applications.",outputLength:"32 hex characters (128 bits)",security:"Weak (deprecated)",commonUse:"File integrity (non-security)"},{name:"SHA-1",description:"160-bit hash (deprecated)",fullDescription:"SHA-1 is a cryptographic hash function that produces a 160-bit hash value. It has been deprecated for security applications due to vulnerabilities.",outputLength:"40 hex characters (160 bits)",security:"Weak (deprecated)",commonUse:"Legacy systems, Git commits"},{name:"SHA-256",description:"256-bit hash (recommended)",fullDescription:"SHA-256 is part of the SHA-2 family and produces a 256-bit hash value. It is currently considered secure and is widely used in security applications.",outputLength:"64 hex characters (256 bits)",security:"Strong (recommended)",commonUse:"Digital signatures, certificates"},{name:"SHA-512",description:"512-bit hash (high security)",fullDescription:"SHA-512 is part of the SHA-2 family and produces a 512-bit hash value. It offers higher security than SHA-256 but is slower to compute.",outputLength:"128 hex characters (512 bits)",security:"Very strong",commonUse:"High-security applications"}],Oe=()=>{je.value?.click()},Ve=e=>{const a=e.target;a.files&&a.files[0]&&(xe.value=a.files[0],Ke())},Je=e=>{e.preventDefault(),De.value=!1,e.dataTransfer?.files&&e.dataTransfer.files[0]&&(xe.value=e.dataTransfer.files[0],Ke())},We=()=>{xe.value=null,Ie.value=[],Be.value="",Te.value=null,je.value&&(je.value.value="")},Ge=e=>{if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][a]},Ke=async()=>{if(xe.value&&0!==Le.value.length){Me.value=!0,Ue.value=0,Ie.value=[];try{const e=[];for(let a=0;a<Le.value.length;a++){const s=Le.value[a];Ue.value=a/Le.value.length*100;const l=await qe(xe.value,s);e.push({algorithm:s,hash:l}),await new Promise(e=>setTimeout(e,100))}Ue.value=100,Ie.value=e,Qe({filename:xe.value.name,size:xe.value.size,timestamp:(new Date).toISOString(),hashes:e})}catch(e){}finally{Me.value=!1}}else Ie.value=[]},qe=async(e,a)=>{const s=await e.arrayBuffer(),l=await crypto.subtle.digest(Ee(a),s);return Array.from(new Uint8Array(l)).map(e=>e.toString(16).padStart(2,"0")).join("")},Ee=e=>{switch(e){case"SHA-1":return"SHA-1";case"SHA-256":default:return"SHA-256";case"SHA-512":return"SHA-512"}},Pe=async e=>{try{await navigator.clipboard.writeText(e),ze.value=e,setTimeout(()=>{ze.value=""},2e3)}catch(a){}},Re=()=>{if(!Be.value||!Fe.value)return void(Te.value=null);const e=Ie.value.find(e=>e.algorithm===Fe.value);if(!e)return void(Te.value=null);const a=Be.value.toLowerCase().replace(/\s/g,""),s=e.hash.toLowerCase();Te.value={match:a===s,actualHash:e.hash}},Qe=e=>{const a=_e.value.findIndex(a=>a.filename===e.filename&&a.size===e.size);a>-1&&_e.value.splice(a,1),_e.value.unshift(e),_e.value.length>10&&(_e.value=_e.value.slice(0,10)),Ye()},Xe=()=>{_e.value=[],Ye()},Ye=()=>{localStorage.setItem("fileHashHistory",JSON.stringify(_e.value))};return l(()=>{(()=>{const e=localStorage.getItem("fileHashHistory");if(e)try{_e.value=JSON.parse(e)}catch(a){}})()}),(e,a)=>(y(),t("div",k,[i("div",H,[i("h1",null,o(e.$t("tools.fileHashChecker.title")),1),i("p",null,o(e.$t("tools.fileHashChecker.description")),1)]),i("div",b,[i("div",C,[i("div",{class:r(["upload-area",{"drag-over":De.value,"has-file":xe.value}]),onDrop:Je,onDragover:a[0]||(a[0]=n(e=>De.value=!0,["prevent"])),onDragenter:a[1]||(a[1]=n(e=>De.value=!0,["prevent"])),onDragleave:a[2]||(a[2]=n(e=>De.value=!1,["prevent"])),onClick:Oe},[i("input",{ref_key:"fileInput",ref:je,type:"file",style:{display:"none"},onChange:Ve},null,544),xe.value?(y(),t("div",x,[a[7]||(a[7]=i("div",{class:"file-icon"}," ðŸ“„ ",-1)),i("div",D,[i("div",L,o(xe.value.name),1),i("div",I,o(Ge(xe.value.size)),1),i("div",M,o(xe.value.type||"Unknown"),1)]),i("button",{class:"clear-file-btn",onClick:n(We,["stop"])}," âœ• ")])):(y(),t("div",S,[a[6]||(a[6]=i("div",{class:"upload-icon"}," ðŸ“ ",-1)),i("div",$,[i("p",w,o(e.$t("tools.fileHashChecker.uploadFile")),1),i("p",A,o(e.$t("tools.fileHashChecker.dragOrClick")),1)])]))],34)]),xe.value?(y(),t("div",U,[i("h3",null,o(e.$t("tools.fileHashChecker.selectAlgorithms")),1),i("div",z,[(y(),t(u,null,h(Ne,e=>i("label",{key:e.name,class:"algorithm-option"},[v(i("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>Le.value=e),type:"checkbox",value:e.name,onChange:Ke},null,40,B),[[d,Le.value]]),i("span",F,o(e.name),1),i("span",T,o(e.description),1)])),64))])])):c("",!0),xe.value&&Le.value.length>0?(y(),t("div",_,[i("h3",null,o(e.$t("tools.fileHashChecker.hashResults")),1),Me.value?(y(),t("div",j,[a[8]||(a[8]=i("div",{class:"spinner"},null,-1)),i("p",null,o(e.$t("tools.fileHashChecker.calculating")),1),i("div",N,[i("div",{class:"progress-fill",style:p({width:Ue.value+"%"})},null,4)]),i("p",O,o(Math.round(Ue.value))+"% ",1)])):(y(),t("div",V,[(y(!0),t(u,null,h(Ie.value,a=>(y(),t("div",{key:a.algorithm,class:"hash-result"},[i("div",J,[i("span",W,o(a.algorithm),1),i("button",{class:r(["copy-btn",{copied:ze.value===a.hash}]),onClick:e=>Pe(a.hash)},o(ze.value===a.hash?e.$t("common.buttons.copied"):e.$t("common.buttons.copy")),11,G)]),i("div",K,o(a.hash),1)]))),128))]))])):c("",!0),Ie.value.length>0?(y(),t("div",q,[i("h3",null,o(e.$t("tools.fileHashChecker.verifyHash")),1),i("div",E,[v(i("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>Be.value=e),type:"text",placeholder:e.$t("tools.fileHashChecker.enterExpectedHash"),class:"hash-input",onInput:Re},null,40,P),[[f,Be.value]]),v(i("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>Fe.value=e),class:"algorithm-select"},[i("option",R,o(e.$t("tools.fileHashChecker.selectAlgorithm")),1),(y(!0),t(u,null,h(Ie.value,e=>(y(),t("option",{key:e.algorithm,value:e.algorithm},o(e.algorithm),9,Q))),128))],512),[[m,Fe.value]])]),Te.value?(y(),t("div",X,[i("div",{class:r(["verification-status",Te.value.match?"match":"no-match"])},[i("span",Y,o(Te.value.match?"âœ…":"âŒ"),1),i("span",Z,o(Te.value.match?e.$t("tools.fileHashChecker.hashMatch"):e.$t("tools.fileHashChecker.hashNoMatch")),1)],2),i("div",ee,[i("div",ae,[i("div",se,[i("label",null,o(e.$t("tools.fileHashChecker.expected"))+":",1),i("span",null,o(Be.value.toLowerCase()),1)]),i("div",le,[i("label",null,o(e.$t("tools.fileHashChecker.actual"))+":",1),i("span",null,o(Te.value.actualHash.toLowerCase()),1)])])])])):c("",!0)])):c("",!0),_e.value.length>0?(y(),t("div",te,[i("h3",null,o(e.$t("tools.fileHashChecker.recentFiles")),1),i("div",ie,[(y(!0),t(u,null,h(_e.value,(a,s)=>{return y(),t("div",{key:s,class:"history-item"},[i("div",oe,[i("div",ce,o(a.filename),1),i("div",ne,o(Ge(a.size)),1),i("div",re,o((l=a.timestamp,new Date(l).toLocaleString())),1)]),i("div",ue,[(y(!0),t(u,null,h(a.hashes,a=>(y(),t("div",{key:a.algorithm,class:"history-hash"},[i("span",he,o(a.algorithm)+":",1),i("span",ve,o(a.hash.substring(0,16))+"...",1),i("button",{class:"copy-btn-small",onClick:e=>Pe(a.hash)},o(e.$t("common.buttons.copy")),9,de)]))),128))]),i("button",{class:"remove-btn",onClick:e=>(e=>{_e.value.splice(e,1),Ye()})(s)},o(e.$t("common.buttons.delete")),9,pe)]);var l}),128))]),i("button",{class:"clear-history-btn",onClick:Xe},o(e.$t("tools.fileHashChecker.clearHistory")),1)])):c("",!0),i("div",fe,[i("h3",null,o(e.$t("tools.fileHashChecker.aboutHashes")),1),i("div",me,[(y(),t(u,null,h(Ne,a=>i("div",{key:a.name,class:"info-card"},[i("h4",null,o(a.name),1),i("p",null,o(a.fullDescription),1),i("div",ye,[i("div",ge,[i("span",ke,o(e.$t("tools.fileHashChecker.outputLength"))+":",1),i("span",He,o(a.outputLength),1)]),i("div",be,[i("span",Ce,o(e.$t("tools.fileHashChecker.security"))+":",1),i("span",Se,o(a.security),1)]),i("div",$e,[i("span",we,o(e.$t("tools.fileHashChecker.commonUse"))+":",1),i("span",Ae,o(a.commonUse),1)])])])),64))])])])]))}}),[["__scopeId","data-v-8ccc5823"]]);export{xe as default};
